const __vite__mapDeps = (i, m = __vite__mapDeps, d = (m.f || (m.f = ["assets/ob8dn8mbjes1k351.js", "assets/mna1wiucqak6lqzp.js", "assets/bq4rrqi54riy5k2e.js", "assets/root-ey6kd8gf.css", "assets/m01asv1bmfnb610p.js", "assets/yd60g7kbq2sqnnyu.js", "assets/lwme42j7zzyr3q7j.js", "assets/conversation-small-fu0y35oi.css", "assets/itn5nsb38f5hxryr.js", "assets/htcgfe1v0opekz8u.js", "assets/h88qamfv10wkp88v.js", "assets/fl41y0is7h6g0gxe.js", "assets/cxz91putlw7pmfk2.js", "assets/n636tcasmc6x02wp.js", "assets/bnmzmikiaefr3trh.js", "assets/f34tqtgbs7efp91l.js"]))) => i.map(i => d[i]);
import {
    N as V,
    cr as wt,
    bk as ae,
    bi as O,
    R as Pe,
    cp as Ne,
    dJ as Ja,
    dH as ns,
    C as fe,
    j as he,
    bs as pe,
    d as _e,
    b_ as P,
    ak as ce,
    Z as R,
    P as y,
    a as j,
    S as Be,
    am as be,
    a6 as $e,
    k as ot,
    bj as Is,
    r as W,
    D as ke,
    dQ as en,
    dz as Fe,
    aB as Os,
    d_ as Et,
    dC as we,
    g9 as it,
    h8 as Xe,
    h9 as os,
    cj as T,
    bZ as is,
    ha as Ze,
    c8 as tn,
    bY as re,
    h2 as sn,
    av as Bs,
    aa as Nt,
    dt as Fs,
    c1 as an,
    bC as lt,
    gF as nn,
    hb as on,
    fr as Le,
    fs as ls,
    hc as Rs,
    ay as ft,
    hd as ln,
    au as Me,
    ci as Ee,
    dx as At,
    cG as ee,
    aj as Ws,
    cb as rn,
    cF as qe,
    dy as cn,
    cI as dn,
    d5 as rs,
    gp as Us,
    he as cs,
    hf as un,
    dK as gn,
    fQ as mn,
    t as ds,
    G as us,
    hg as fn,
    bz as Gs,
    bA as Vs
} from "./bq4rrqi54riy5k2e.js";
import {
    c as b,
    r as d,
    j as e,
    M as o,
    u as ye,
    a as xe,
    b as Ce,
    av as hn,
    d as Te,
    e as Hs,
    h as pn,
    L as Ie,
    i as ht,
    f as xn
} from "./mna1wiucqak6lqzp.js";
import {
    bX as rt,
    U as K,
    cB as Mn,
    bn as Je,
    cF as Oe,
    l as Lt,
    oP as et,
    op as z,
    B as bn,
    bs as zs,
    oC as Cn,
    oh as Ue,
    o8 as yn,
    oQ as jn,
    oR as vn,
    z as Re,
    N as Q,
    bD as Ks,
    O as tt,
    oS as Sn,
    oT as kn,
    oU as wn,
    h9 as vt,
    oV as En,
    kf as N,
    eZ as Nn,
    h4 as _t,
    oW as qs,
    kd as An,
    ik as Ys,
    ke as gs,
    ki as Ln,
    cC as _n,
    kj as Pn,
    kk as ms,
    oX as Tn,
    e_ as Dn,
    oY as In,
    oZ as On,
    o_ as fs,
    cA as St,
    bl as Pt,
    fK as w,
    o$ as Bn,
    p0 as Qs,
    p1 as Fn,
    p2 as Rn,
    fE as Wn,
    p3 as Un,
    p4 as Gn,
    fC as Vn,
    p5 as Hn,
    f as zn,
    gu as Kn,
    hB as qn,
    p6 as Yn,
    dl as Qn,
    p7 as $s,
    ft as ct,
    p8 as $n,
    p9 as Ye,
    fX as Xn,
    ao as Zn,
    bU as Jn,
    fH as ue,
    fI as I,
    cs as eo,
    h3 as to,
    kh as so,
    og as st,
    ou as ao,
    ok as no,
    iA as oo,
    oa as io,
    h8 as lo,
    ol as at,
    oo as ro,
    on as co,
    of as uo,
    m0 as go,
    hb as mo,
    kp as Xs,
    bq as Tt,
    hQ as fo,
    pa as Z,
    o as pt,
    pb as ho,
    pc as po,
    pd as xo,
    fc as Dt,
    d3 as Mo,
    dR as We,
    d4 as Zs,
    pe as bo,
    fy as Co,
    pf as yo,
    pg as xt,
    ph as jo,
    pi as vo,
    pj as So,
    Q as ko,
    eX as L,
    al as kt,
    fh as Js,
    m_ as wo,
    d6 as ea,
    pk as Eo,
    kX as No,
    kZ as Ao,
    kU as Lo,
    pl as _o,
    pm as Po,
    fA as To,
    pn as Do,
    po as Io,
    pp as ta,
    bt as me,
    ai as Oo,
    ad as Bo,
    G as Fo,
    cG as Qe,
    W as Ro,
    gx as hs,
    pq as Wo,
    cY as Uo,
    pr as sa,
    ps as Go,
    dY as Vo,
    dZ as Ho,
    aq as zo,
    dU as Ko,
    fi as qo,
    fJ as oe,
    pt as Yo,
    eY as ie,
    pu as Qo,
    dc as $o,
    V as Xo,
    pv as Zo,
    pw as Jo,
    px as ei,
    py as ti
} from "./lwme42j7zzyr3q7j.js";
import {
    F as aa,
    a as na,
    b as oa
} from "./ixqmo96wk3bini88.js";
import {
    P as si,
    g as ai,
    G as ni,
    i as oi,
    a as ii,
    b as li,
    h as ri,
    c as ci,
    A as di
} from "./bkoo24lt18b0xvbg.js";
import {
    c as ui
} from "./iej0cupg2dqkmejt.js";
import {
    P as gi
} from "./m3b3wk7x0ejaq5a6.js";
import {
    S as mi
} from "./gitqh1f0vlrsxlc2.js";
import {
    S as fi
} from "./kvu0iifjmg07jk11.js";
import {
    S as ps
} from "./g01zogj1vrh90isg.js";
import {
    K as M,
    g as hi
} from "./fl41y0is7h6g0gxe.js";
import {
    G as pi
} from "./nmr5d79kmws977p2.js";
import {
    d as xi,
    U as Mi
} from "./cxz91putlw7pmfk2.js";
import {
    u as bi,
    M as Ci,
    a as yi
} from "./jngfq2i6qblmembb.js";
import {
    g as ji
} from "./bk8slwxjkdlmxjxm.js";
import {
    S as ia
} from "./bnmzmikiaefr3trh.js";
import "./hof9jjp8fzjywfd9.js";
import "./eo35ety32p3uqfmp.js";
import "./dvik6hl2h3xpsl43.js";
import "./h2mbwvf3xs6tkgoi.js";
import "./bcieds2s0jraaq45.js";

function vi(t) {
    return ye({
        queryKey: ["workspace", t, "owner_count"],
        queryFn: async () => await Pe.safeGet("/accounts/{account_id}/users/owner_count", {
            parameters: {
                path: {
                    account_id: t
                }
            }
        })
    })
}

function Si({
    workspace: t
}) {
    const s = b(),
        a = V(),
        n = rt(),
        [i, r] = d.useState(""),
        l = t.isOwnerOfAccount(),
        c = vi(t.id),
        {
            data: u
        } = wt(),
        [h, g] = d.useState(!1),
        [m, p] = d.useState(!1);
    if (!u) return null;
    const A = u.accountItems.find(B => B.id != t.id),
        v = () => {
            K.setLeaveWorkspaceData(null)
        },
        C = async () => {
            if (n != null) {
                p(!0);
                try {
                    await Pe.safeDelete("/accounts/{account_id}/users/{user_id}", {
                        parameters: {
                            path: {
                                account_id: t.id,
                                user_id: n.id
                            }
                        }
                    }), g(!0)
                } catch {
                    a.danger(s.formatMessage({
                        id: "leaveWorkspaceModal.leaveFailed",
                        defaultMessage: "Failed to leave workspace"
                    }))
                }
                p(!1)
            }
        };
    if (h) return e.jsx(Ei, {
        workspace: t,
        fallbackWorkspace: A,
        onClose: v
    });
    if (!c.data) return e.jsx(ki, {
        onClose: v
    });
    const S = c.data.total_count,
        k = c.data.owner_count;
    if (l && k < 2) return e.jsx(wi, {
        workspace: t,
        onClose: v
    });
    const E = e.jsx(ae.Button, {
            onClick: () => {
                K.setLeaveWorkspaceData(null)
            },
            title: s.formatMessage({
                id: "leaveWorkspaceModal.cancel",
                defaultMessage: "Cancel"
            })
        }),
        _ = e.jsx(ae.Button, {
            color: "danger",
            disabled: n == null || m || i == "" || i.toLowerCase() != n ? .email ? .toLowerCase(),
            title: s.formatMessage({
                id: "leaveWorkspaceModal.leaveButton",
                defaultMessage: "Leave workspace"
            }),
            onClick: () => {
                C()
            }
        }),
        $ = s.formatMessage({
            id: "leaveWorkspaceModal.leaveButton",
            defaultMessage: "Leave workspace"
        });
    return e.jsx(O, {
        isOpen: !0,
        onClose: v,
        showCloseButton: !0,
        type: "danger",
        title: s.formatMessage({
            id: "leaveWorkspaceModal.leaveWorkspace",
            defaultMessage: "Leave the {workspaceName} workspace"
        }, {
            workspaceName: t.data.name
        }),
        primaryButton: _,
        secondaryButton: E,
        children: e.jsxs("div", {
            className: "flex flex-col gap-5",
            children: [e.jsxs("div", {
                className: "flex flex-row gap-3",
                children: [e.jsx(Mn, {
                    size: "large",
                    src: t.data.profilePictureUrl
                }), e.jsxs("div", {
                    className: "flex flex-col justify-around",
                    children: [e.jsx("div", {
                        className: "text-base font-semibold",
                        children: t.data.name
                    }), e.jsx("div", {
                        className: "text-sm text-token-text-tertiary",
                        children: e.jsx(o, {
                            id: "leaveWorkspaceModal.memberCount",
                            defaultMessage: `{memberCount, plural,
                  one {1 member}
                  other {{memberCount} members}
                }`,
                            values: {
                                memberCount: S
                            }
                        })
                    })]
                })]
            }), e.jsxs("div", {
                children: [e.jsx("h3", {
                    className: "mb-2 text-base font-semibold",
                    children: e.jsx(o, {
                        id: "leaveWorkspaceModal.leaveAreYouSure",
                        defaultMessage: "Are you sure?"
                    })
                }), e.jsxs("ul", {
                    className: "ml-3 list-disc text-sm text-token-text-secondary",
                    children: [e.jsx("li", {
                        className: "mb-2",
                        children: e.jsx(o, {
                            id: "leaveWorkspaceModal.leaveWorkspaceWarning1",
                            defaultMessage: "This will remove you from your workspace and you won't be able to access all data, including profile, settings, and chat history."
                        })
                    }), e.jsx("li", {
                        children: e.jsx(o, {
                            id: "leaveWorkspaceModal.leaveWorkspaceWarning2",
                            defaultMessage: "You will lose access to all channels and messages in this workspace."
                        })
                    })]
                })]
            }), e.jsxs("div", {
                children: [e.jsx("h3", {
                    className: "mb-2 text-base",
                    children: $
                }), e.jsx(Je, {
                    ariaLabel: $,
                    name: "typeEmailConfirm",
                    value: i,
                    onChange: B => {
                        r(B.target.value)
                    }
                })]
            })]
        })
    })
}

function ki({
    onClose: t
}) {
    return e.jsx(O, {
        isOpen: !0,
        onClose: t,
        showCloseButton: !0,
        type: "warning",
        children: e.jsx("div", {
            className: "flex flex-row justify-center",
            children: e.jsx(Ne, {})
        })
    })
}

function wi({
    workspace: t,
    onClose: s
}) {
    const a = b(),
        n = e.jsx(ae.Button, {
            onClick: () => {
                K.setLeaveWorkspaceData(null)
            },
            title: a.formatMessage({
                id: "leaveWorkspaceModal.ok",
                defaultMessage: "OK"
            })
        });
    return e.jsx(O, {
        isOpen: !0,
        onClose: s,
        showCloseButton: !0,
        type: "danger",
        title: a.formatMessage({
            id: "leaveWorkspaceModal.cantLeaveWorkspace",
            defaultMessage: "Couldn't leave the {workspaceName} workspace"
        }, {
            workspaceName: t.data.name
        }),
        secondaryButton: n,
        children: e.jsx(o, {
            id: "leaveWorkspaceModal.lastOwnerWarning",
            defaultMessage: "Because you're the only owner in the {workspaceName} workspace, assign the owner role to another member before leaving.",
            values: {
                workspaceName: t.data.name
            }
        })
    })
}

function Ei({
    workspace: t,
    fallbackWorkspace: s,
    onClose: a
}) {
    const n = xe(),
        i = b(),
        r = V(),
        l = Oe(g => g.currentWorkspace),
        c = Lt(),
        u = () => {
            if (s != null && l)
                if (K.setLeaveWorkspaceData(null), l.id == t.id) {
                    const {
                        willRedirect: g
                    } = Ja(n, s.id, c, i, r);
                    g || ns()
                } else n.invalidateQueries({
                    queryKey: ["account-status"]
                });
            else K.setLeaveWorkspaceData(null), fe.deleteCookie(he.Workspace), fe.deleteCookie(he.WorkspaceResidencyRegion), ns();
            a()
        },
        h = s != null ? e.jsx(ae.Button, {
            color: "primary",
            onClick: u,
            title: i.formatMessage({
                id: "leaveWorkspaceModal.done",
                defaultMessage: "Done"
            })
        }) : e.jsx(ae.Button, {
            color: "primary",
            onClick: u,
            title: i.formatMessage({
                id: "leaveWorkspaceModal.startPersonalAccount",
                defaultMessage: "Start using ChatGPT for free"
            })
        });
    return e.jsx(O, {
        isOpen: !0,
        onClose: u,
        primaryButton: h,
        type: "success",
        title: i.formatMessage({
            id: "leaveWorkspaceModal.leftWorkspaceTitle",
            defaultMessage: "Successfully left the {workspaceName} workspace"
        }, {
            workspaceName: t.data.name
        }),
        children: e.jsx("div", {
            className: "flex flex-col gap-5",
            children: e.jsx("p", {
                children: s != null ? e.jsx(o, {
                    id: "leaveWorkspaceModal.leftWorkspaceDescription",
                    defaultMessage: "You have successfully left the {workspaceName} workspace.",
                    values: {
                        workspaceName: t.data.name
                    }
                }) : e.jsx(o, {
                    id: "leaveWorkspaceModal.leftWorkspaceDescriptionNoOtherWorkspaces",
                    defaultMessage: "You have successfully left the {workspaceName} workspace. This will create your personal workspace automatically.",
                    values: {
                        workspaceName: t.data.name
                    }
                })
            })
        })
    })
}
const It = pe.div `p-6`;

function Ni({
    emailAddress: t,
    setEmailAddress: s,
    emailTemplate: a,
    validateEmailPending: n,
    errorMessage: i,
    onClickValidateEmail: r,
    onClickCancel: l
}) {
    return e.jsx(It, {
        children: e.jsxs("div", {
            className: "flex flex-col",
            children: [e.jsx("div", {
                className: "text-center text-2xl font-medium",
                children: e.jsx(o, {
                    id: "XSITb5",
                    defaultMessage: "Verify you are a student"
                })
            }), e.jsx("div", {
                className: "mt-2 text-center text-base text-token-text-tertiary",
                children: e.jsx(o, {
                    id: "x1DjYV",
                    defaultMessage: "To claim the student discount, verify your university email address. This email will not be linked to your ChatGPT account."
                })
            }), e.jsxs("form", {
                className: "mt-8 flex flex-col",
                onSubmit: c => {
                    c.preventDefault(), r()
                },
                children: [e.jsxs(aa, {
                    className: "mb-8",
                    children: [e.jsx(na, {
                        label: e.jsx(o, {
                            id: "jqIBGr",
                            defaultMessage: "University email address"
                        })
                    }), e.jsx(oa, {
                        className: _e(i && "border-red-500"),
                        placeholder: a,
                        onChange: c => {
                            s(c.target.value)
                        }
                    }), i ? e.jsx("div", {
                        className: "text-danger mt-2 text-sm",
                        children: i
                    }) : null]
                }), e.jsx(P, {
                    type: "submit",
                    disabled: t.length === 0,
                    loading: n,
                    children: e.jsx(o, {
                        id: "aDh6He",
                        defaultMessage: "Send verification code"
                    })
                }), e.jsx(P, {
                    type: "button",
                    color: "secondary",
                    className: "mt-3",
                    onClick: l,
                    children: e.jsx(o, {
                        id: "/7nqLd",
                        defaultMessage: "Cancel"
                    })
                })]
            })]
        })
    })
}

function Ai({
    emailTemplate: t,
    schoolSlug: s,
    onContinueWithResponse: a,
    onClose: n
}) {
    const i = b(),
        [r, l] = d.useState(""),
        [c, u] = d.useState(null),
        {
            mutate: h,
            isPending: g
        } = Ce({
            mutationFn: () => et.validateEmail(r, s),
            onSuccess: m => {
                u(null), z.logValidateEmailSuccess(m.classmates_promotion_id), a(m)
            },
            onError: m => {
                const p = m.detail ? .user_error_message ? ? i.formatMessage({
                    id: "9wITlN",
                    defaultMessage: "Something went wrong"
                });
                z.logValidateEmailFailure(), u(p)
            }
        });
    return e.jsx(Ni, {
        emailAddress: r,
        setEmailAddress: l,
        emailTemplate: t,
        validateEmailPending: g,
        errorMessage: c,
        onClickValidateEmail: () => {
            h(), z.logClickSendVerificationCode()
        },
        onClickCancel: () => {
            z.logClose("add-email"), n()
        }
    })
}

function Li({
    onClose: t
}) {
    return e.jsx(It, {
        children: e.jsxs("div", {
            className: "flex flex-col",
            children: [e.jsx("div", {
                className: "text-center text-2xl font-medium",
                children: e.jsx(o, {
                    id: "LlbzLB",
                    defaultMessage: "Your discount has been successfully applied"
                })
            }), e.jsx("div", {
                className: "mt-4 text-center text-base text-token-text-tertiary",
                children: e.jsx(o, {
                    id: "qXJLE+",
                    defaultMessage: "You will see your discount reflected in your next monthly renewal"
                })
            }), e.jsx(P, {
                className: "mt-8",
                onClick: t,
                color: "secondary",
                children: e.jsx(o, {
                    id: "nNn3ml",
                    defaultMessage: "Close"
                })
            })]
        })
    })
}

function _i({
    emailAddress: t,
    verificationCode: s,
    errorMessage: a,
    sendErrorMessage: n,
    validateVerificationCodeIsPending: i,
    isSendingVerificationCode: r,
    setVerificationCode: l,
    onValidateVerificationCode: c,
    onResendVerificationCode: u,
    onChangeEmailAddress: h,
    onCancel: g
}) {
    return e.jsx(It, {
        children: e.jsxs("div", {
            className: "flex flex-col",
            children: [e.jsx("div", {
                className: "text-center text-2xl font-medium",
                children: e.jsx(o, {
                    id: "PjHZX7",
                    defaultMessage: "Check your email"
                })
            }), e.jsx("div", {
                className: "mt-2 text-center text-base text-token-text-tertiary",
                children: e.jsx(o, {
                    id: "AoOIN/",
                    defaultMessage: "Enter the verification code we just sent to {emailAddress}",
                    values: {
                        emailAddress: e.jsx("span", {
                            className: "font-medium",
                            children: t
                        })
                    }
                })
            }), n ? e.jsx("div", {
                className: "mt-8",
                children: e.jsx(bn, {
                    type: "error",
                    icon: e.jsx(zs, {}),
                    content: n
                })
            }) : null, e.jsxs("form", {
                className: "mt-8 flex flex-col",
                onSubmit: m => {
                    m.preventDefault(), c()
                },
                children: [e.jsxs(aa, {
                    className: "mb-8",
                    children: [e.jsx(na, {
                        label: e.jsx(o, {
                            id: "kLJAa+",
                            defaultMessage: "Verification code"
                        })
                    }), e.jsx(oa, {
                        placeholder: "XXXXXX",
                        value: s,
                        onChange: m => {
                            l(m.target.value)
                        }
                    }), a ? e.jsx("div", {
                        className: "text-danger mt-2 text-sm",
                        children: a
                    }) : null]
                }), e.jsx(P, {
                    type: "submit",
                    disabled: s.length === 0,
                    loading: i,
                    children: e.jsx(o, {
                        id: "NRkiYA",
                        defaultMessage: "Continue"
                    })
                }), e.jsx(P, {
                    type: "button",
                    className: "mt-3",
                    color: "secondary",
                    onClick: g,
                    children: e.jsx(o, {
                        id: "vyz3Kz",
                        defaultMessage: "Cancel"
                    })
                })]
            }), e.jsx("div", {
                className: "mt-8 text-center text-sm",
                children: e.jsx(o, {
                    id: "2NzblW",
                    defaultMessage: "Didn't receive the code?"
                })
            }), e.jsxs("div", {
                className: "mt-4 flex gap-3",
                children: [e.jsx(P, {
                    loading: r,
                    className: "flex-1",
                    color: "secondary",
                    onClick: u,
                    children: e.jsx(o, {
                        id: "L6pEyt",
                        defaultMessage: "Resend code"
                    })
                }), e.jsx(P, {
                    className: "flex-1",
                    color: "secondary",
                    onClick: h,
                    children: e.jsx(o, {
                        id: "V8M7cm",
                        defaultMessage: "Change email"
                    })
                })]
            })]
        })
    })
}

function Pi({
    checkoutDetails: t,
    classmatesPromotionId: s,
    emailAddress: a,
    onChangeEmailAddress: n,
    onClose: i,
    onApplyCoupon: r
}) {
    const l = b(),
        c = V(),
        u = ce(),
        h = u ? .hasPaidSubscription() && u ? .isPlus(),
        [g, m] = d.useState(""),
        [p, x] = d.useState(null),
        [A, v] = d.useState(null),
        C = async () => {
            if (h && u) try {
                z.logApplyDiscount();
                const B = await R.applyClassmatesPromotion(s, u.id);
                B.success ? r() : x(B.error_message ? ? "Something went wrong")
            } catch {
                x("An error occurred while applying the promotion.")
            } else try {
                await Ti(u ? .features ? ? [], l, c, t.billingDetails, t.plusAnalyticsParams, s)
            } catch {
                x(l.formatMessage({
                    id: "9wITlN",
                    defaultMessage: "Something went wrong"
                }))
            }
        },
        {
            mutate: S,
            isPending: k
        } = Ce({
            mutationFn: () => et.sendVerificationCode(s),
            onError: B => {
                const ne = B.detail ? .user_error_message ? ? l.formatMessage({
                    id: "9wITlN",
                    defaultMessage: "Something went wrong"
                });
                x(ne)
            }
        }),
        {
            mutate: E,
            isPending: _
        } = Ce({
            mutationFn: () => et.validateVerificationCode(s, g),
            onSuccess: async B => {
                v(null), x(null), z.logValidateVerificationCodeSuccess(), await C()
            },
            onError: B => {
                const ne = B.detail ? .user_error_message ? ? l.formatMessage({
                    id: "9wITlN",
                    defaultMessage: "Something went wrong"
                });
                z.logValidateVerificationCodeFailure(), v(ne)
            }
        }),
        $ = d.useRef(!1);
    return d.useEffect(() => {
        $.current || (S(), $.current = !0)
    }, [S]), e.jsx(_i, {
        emailAddress: a,
        verificationCode: g,
        errorMessage: A,
        sendErrorMessage: p,
        validateVerificationCodeIsPending: _,
        isSendingVerificationCode: k,
        setVerificationCode: m,
        onValidateVerificationCode: () => {
            z.logClickValidateVerificationCode(), E()
        },
        onResendVerificationCode: () => {
            z.logClickResendVerificationCodeButton(), S()
        },
        onChangeEmailAddress: () => {
            z.logClickChangeEmailButton(), n()
        },
        onCancel: () => {
            z.logClose("verify-email"), i()
        }
    })
}
async function Ti(t, s, a, n, i, r) {
    y.logEvent(j.accountPayPaymentCheckoutClicked, i), Be.logEvent("chatgpt_account_payment_modal_upgrade_button_click", be.PLUS);
    const l = await R.getCheckoutLink(t, "ProducePlus", {
        plan_name: "chatgptplusplan",
        billing_details: n,
        classmate_promotion_id: r
    });
    y.logEvent(j.accountPayNavigatingToPaymentCheckout, { ...i,
        url: l.url
    }), Be.logEvent("chatgpt_account_payment_modal_navigating_to_checkout", be.PLUS, {
        url: l.url
    }), window.location.href = l.url
}
const Di = "webp",
    Ii = 420,
    Oi = 292,
    Bi = "srgb",
    Fi = 3,
    Ri = "uchar",
    Wi = 72,
    Ui = "4:2:0",
    Gi = !0,
    Vi = !1,
    Hi = !1,
    zi = "https://cdn.oaistatic.com/assets/school-splash-dlbf1kdq.webp",
    Mt = {
        format: Di,
        width: Ii,
        height: Oi,
        space: Bi,
        channels: Fi,
        depth: Ri,
        density: Wi,
        chromaSubsampling: Ui,
        isProgressive: Gi,
        hasProfile: Vi,
        hasAlpha: Hi,
        src: zi
    };

function Ki() {
    return e.jsx("div", {
        className: "flex h-full w-full items-center justify-center",
        children: e.jsx(Ne, {})
    })
}

function qi({
    currentAccount: t,
    schoolSlug: s,
    hasPaidSubscription: a,
    promotion: n,
    onContinue: i,
    onClose: r
}) {
    const l = b(),
        c = yn(),
        {
            initialBillingDetails: u
        } = Cn(t, !0),
        h = d.useMemo(() => t ? .subscriptionAnalyticsParams, [t]);
    d.useEffect(() => {
        z.logShowPromo(s)
    }, [s]);
    const g = Qi(n);
    if (!t) return null;
    const m = Yi(t, c);
    return e.jsxs("div", {
        className: _e("relative flex h-full items-center justify-center", n ? "overflow-auto" : "overflow-hidden"),
        children: [e.jsxs(hn.div, {
            initial: !1,
            animate: {
                opacity: n ? 1 : 0
            },
            transition: {
                duration: .25
            },
            className: "flex flex-col justify-center",
            children: [e.jsxs("div", {
                className: "relative h-32",
                children: [e.jsx("img", {
                    src: typeof Mt == "string" ? Mt : Mt.src,
                    alt: l.formatMessage({
                        id: "yNEeCK",
                        defaultMessage: "Modal splash image"
                    }),
                    className: "h-full w-full object-cover object-bottom"
                }), e.jsx("div", {
                    className: "absolute inset-0 flex h-full w-full items-center justify-center",
                    children: e.jsx("div", {
                        className: "border-b-2 border-t-2 border-white text-center text-lg font-semibold uppercase text-white [text-shadow:0px_4px_4px_rgba(0,0,0,0.25)]",
                        children: n ? .school_name
                    })
                })]
            }), e.jsx(si, {
                analyticsParams: h,
                plusPricingPlanProduce: m,
                currentAccount: t,
                setPlanLoading: () => {},
                planLoading: null,
                onSubmit: () => {
                    z.logClickUpgradeButton(a)
                },
                billingDetails: u,
                promoMetadata: g,
                onCustomUpgradeClick: () => {
                    i(null, u, h)
                },
                handlePromoModalClose: () => {
                    z.logClose("promo"), r()
                },
                disableForMobile: !0
            })]
        }), e.jsx("div", {
            className: _e("absolute inset-0 flex items-center justify-center", n ? "invisible" : "visible"),
            children: e.jsx(Ki, {})
        })]
    })
}

function Yi(t, s) {
    let a = ai({
        currentAccount: t,
        pricingType: s
    });
    return a.advertisedFeatures = [Ue.studentAdvertisedFeatures1, Ue.studentAdvertisedFeatures2, Ue.studentAdvertisedFeatures3, Ue.studentAdvertisedFeatures4], a
}

function Qi(t) {
    const s = b();
    if (!t) return;
    const a = t.promotion_metadata,
        n = a ? .duration ? .period === "month" ? a ? .duration ? .num_periods : void 0,
        i = a ? .discount && "percentage" in a.discount ? a ? .discount.percentage : void 0;
    if (!n || !i) return t.promotion_metadata;
    const r = i === 100 ? s.formatMessage({
        id: "Cni8Pg",
        defaultMessage: "Get Plus for free for the {months, plural, one {first month} other {first # months}}."
    }, {
        months: n
    }) : s.formatMessage({
        id: "Qp4VfI",
        defaultMessage: "Get Plus for {discount, number, percent} off for the {months, plural, one {first month} other {first # months}}."
    }, {
        discount: i / 100,
        months: n
    });
    return { ...t.promotion_metadata,
        summary: r
    }
}

function $i({
    schoolSlug: t,
    onClose: s
}) {
    const a = b(),
        {
            data: n,
            isLoading: i
        } = ye({
            queryKey: ["classmates-promotion", t],
            queryFn: () => et.getSchoolPromotion(t)
        }),
        r = ce(),
        {
            value: l
        } = $e("4168663601"),
        c = Zi(n, i, r, l);
    return d.useEffect(() => {
        c && s()
    }, [c, s]), n && !n.is_eligible_for_promotion ? e.jsx(ni, {
        isOpen: !0,
        title: a.formatMessage({
            id: "D44NkI",
            defaultMessage: "Promotion already redeemed."
        }),
        message: a.formatMessage({
            id: "JuOfqF",
            defaultMessage: "Thanks for being a subscriber. You've already applied this promotion to your account."
        }),
        buttonTitle: a.formatMessage({
            id: "y9xK0L",
            defaultMessage: "Close"
        }),
        onClose: s
    }) : e.jsx(O, {
        className: "min-w-96 max-w-96",
        isOpen: !0,
        size: "custom",
        type: "success",
        noPadding: !0,
        shouldIgnoreClickOutside: !0,
        onClose: s,
        children: e.jsx(Xi, {
            initialStage: la(),
            schoolSlug: t,
            promotion: n,
            onClose: s
        })
    })
}

function Xi({
    initialStage: t = la(),
    schoolSlug: s,
    promotion: a,
    onClose: n
}) {
    const i = Lt(),
        {
            isUnauthenticated: r
        } = ot(),
        l = ce(),
        [c, u] = d.useState(t);
    if (!l) return null;
    switch (c.name) {
        case "intro":
            {
                const h = l ? .hasPaidSubscription() ? ? !1;
                return e.jsx(qi, {
                    currentAccount: l,
                    schoolSlug: s,
                    hasPaidSubscription: h,
                    promotion: a,
                    onContinue: (g, m, p) => {
                        r ? i({
                            authType: "signup",
                            callbackUrl: `/#students/${s}`
                        }) : u(g ? Ms(g.classmates_promotion_id, g.email, {
                            billingDetails: m,
                            plusAnalyticsParams: p
                        }) : xs({
                            billingDetails: m,
                            plusAnalyticsParams: p
                        }))
                    },
                    onClose: n
                })
            }
        case "add-email":
            return e.jsx(Ai, {
                emailTemplate: `name@${a?.school_domains[0]}`,
                schoolSlug: s,
                onContinueWithResponse: h => {
                    u(Ms(h.classmates_promotion_id, h.email, c.checkoutDetails))
                },
                onClose: n
            });
        case "verify-email":
            return e.jsx(Pi, {
                checkoutDetails: c.checkoutDetails,
                emailAddress: c.email,
                classmatesPromotionId: c.classmatesPromotionId,
                onChangeEmailAddress: () => {
                    u(xs(c.checkoutDetails))
                },
                onClose: n,
                onApplyCoupon: () => {
                    u(Ji())
                }
            });
        case "apply-coupon":
            return e.jsx(Li, {
                onClose: n
            })
    }
}

function Zi(t, s, a, n) {
    const i = a ? .hasPaidSubscription() ? ? !1,
        l = (a ? .isPlus() ? ? !1) && n;
    if (i && !l) return !0;
    if (!t) return !s;
    const c = t.school_name,
        u = t.school_domains;
    return !c || u.length === 0
}

function la() {
    return {
        name: "intro"
    }
}

function xs(t) {
    return {
        name: "add-email",
        checkoutDetails: t
    }
}

function Ms(t, s, a) {
    return {
        name: "verify-email",
        classmatesPromotionId: t,
        email: s,
        checkoutDetails: a
    }
}

function Ji() {
    return {
        name: "apply-coupon"
    }
}

function el() {
    const t = Te(),
        s = jn(),
        {
            isOpen: a,
            schoolSlug: n
        } = vn();
    return s && a && n ? e.jsx($i, {
        schoolSlug: n.toLowerCase().trim(),
        onClose: () => t({
            hash: ""
        })
    }) : null
}

function tl() {
    const t = b(),
        s = Re(n => n.activeModals.has(Q.AgeVerificationInterstitial));
    return e.jsxs(O, {
        type: "success",
        isOpen: s,
        onClose: Is,
        title: t.formatMessage(le.title),
        children: [e.jsxs("div", {
            className: "text-token-text-secondary",
            children: [e.jsx("p", {
                className: "mb-4",
                children: e.jsx(o, { ...le.description0
                })
            }), e.jsx(bs, {
                children: e.jsx(o, { ...le.subtitle1
                })
            }), e.jsxs("ol", {
                className: "mb-4 ml-4 list-decimal",
                children: [e.jsx("li", {
                    className: "",
                    children: e.jsx(o, { ...le.description1Bullet1
                    })
                }), e.jsx("li", {
                    children: e.jsx(o, { ...le.description1Bullet2
                    })
                })]
            }), e.jsx("p", {
                className: "mb-4 font-semibold",
                children: e.jsx(o, { ...le.description1a
                })
            }), e.jsx("p", {
                className: "mb-4",
                children: e.jsx(o, { ...le.description1b
                })
            }), e.jsx(bs, {
                children: e.jsx(o, { ...le.subtitle2
                })
            }), e.jsx("p", {
                className: "mb-4",
                children: e.jsx(o, { ...le.description2,
                    values: {
                        learnMoreLink: n => e.jsx("a", {
                            href: "https://help.openai.com/en/articles/8411987-why-am-i-being-asked-to-verify-my-age",
                            target: "_blank",
                            rel: "noreferrer",
                            className: "cursor-pointer font-normal underline",
                            children: n
                        })
                    }
                })
            })]
        }), e.jsx("div", {
            className: "mt-4 flex justify-center",
            children: e.jsx(P, {
                color: "primary",
                as: "link",
                to: "https://platform.openai.com/verify-age",
                openNewTab: !0,
                onClick: () => K.closeModal(Q.AgeVerificationInterstitial),
                icon: Ks,
                children: e.jsx(o, { ...le.redirect
                })
            })
        })]
    })
}
const bs = pe.h3 `text-token-text-primary text-base mb-1`,
    le = W({
        title: {
            id: "AgeVerificationInterstitial.title",
            defaultMessage: "Please verify your age"
        },
        redirect: {
            id: "AgeVerificationInterstitial.redirect",
            defaultMessage: "Sign in on platform.openai.com"
        },
        description0: {
            id: "AgeVerificationInterstitial.description0",
            defaultMessage: "To continue using ChatGPT, you need to complete a brief age verification check"
        },
        subtitle1: {
            id: "AgeVerificationInterstitial.title1",
            defaultMessage: "What will happen next?"
        },
        description1Bullet1: {
            id: "AgeVerificationInterstitial.description1",
            defaultMessage: "You will be redirected to platform.openai.com where you will need to sign in."
        },
        description1Bullet2: {
            id: "AgeVerificationInterstitial.description2",
            defaultMessage: "You will then be redirected to Yoti, our age verification provider, to verify your age."
        },
        description1a: {
            id: "AgeVerificationInterstitial.description1a",
            defaultMessage: "If you are between the ages of 13 and 17, your parent or guardian must complete the age verification check on your behalf."
        },
        description1b: {
            id: "AgeVerificationInterstitial.description1b",
            defaultMessage: "The process is quick and secure."
        },
        subtitle2: {
            id: "AgeVerificationInterstitial.title2",
            defaultMessage: "Why do I need to do this?"
        },
        description2: {
            id: "AgeVerificationInterstitial.description2-v3",
            defaultMessage: "We are required to verify that our users in Italy are old enough to use ChatGPT. <learnMoreLink>Learn more</learnMoreLink>."
        }
    });

function sl() {
    return tt(Q.CookieManagement) ? e.jsx(al, {
        onClose: () => {
            K.closeModal(Q.CookieManagement)
        }
    }) : null
}

function al({
    onClose: t
}) {
    const s = b(),
        a = V(),
        {
            isUnauthenticated: n
        } = ot(),
        {
            data: i
        } = Sn(),
        r = i ? .serverPrimedAllowBrowserStorageValue ? ? !1,
        l = i ? .isStorageComplianceEnabled ? ? !1,
        c = kn({
            serverPrimedAllowBrowserStorageValue: r,
            enabled: l && !n
        }),
        [u, h] = d.useState(r),
        g = n ? u : c,
        m = x => {
            fe.setBooleanCookie(he.AllowNonessential, x, {
                maxAge: En,
                domain: en
            }), n ? h(x) : p.mutateAsync({
                analytics_cookies_accepted: x
            }, {
                onSuccess() {
                    a.success(s.formatMessage(X.updateSuccess))
                },
                onError() {
                    a.danger(s.formatMessage(X.updateFailure))
                }
            })
        };
    d.useEffect(() => {
        if (n) {
            const x = fe.getBooleanCookie(he.AllowNonessential) ? ? r;
            h(x)
        }
    }, [n, r]), d.useEffect(() => {
        ke.addAction("privacy_policy.show_manage_cookies_modal")
    }, []);
    const p = wn();
    return e.jsx(O, {
        type: "success",
        isOpen: !0,
        onClose: t,
        title: s.formatMessage(X.title),
        showCloseButton: !0,
        children: e.jsxs("div", {
            className: "text-sm text-token-text-secondary",
            children: [e.jsx(o, { ...X.description,
                values: {
                    cookiePolicy: x => e.jsx("a", {
                        className: "underline",
                        href: "https://openai.com/policies/privacy-policy",
                        children: x
                    })
                }
            }), e.jsxs(Cs, {
                children: [e.jsxs(ys, {
                    children: [e.jsx(js, {
                        children: s.formatMessage(X.preference1title)
                    }), e.jsx(vs, {
                        children: s.formatMessage(X.preference1desc)
                    })]
                }), e.jsx(vt, {
                    onChange: Is,
                    enabled: !0,
                    disabled: !0,
                    label: s.formatMessage(X.preference1toggle)
                })]
            }), e.jsxs(Cs, {
                children: [e.jsxs(ys, {
                    children: [e.jsx(js, {
                        children: s.formatMessage(X.preference2title)
                    }), e.jsx(vs, {
                        children: s.formatMessage(X.preference2desc)
                    })]
                }), e.jsx(vt, {
                    onChange: m,
                    enabled: !!g,
                    label: s.formatMessage(X.preference2toggle)
                })]
            }), e.jsxs("div", {
                className: "flex justify-end gap-3 border-t border-black/10 pt-4 dark:border-white/10",
                children: [e.jsx(P, {
                    color: "secondary",
                    onClick: () => m(!1),
                    children: e.jsx(o, { ...X.reject
                    })
                }), e.jsx(P, {
                    color: "secondary",
                    onClick: () => m(!0),
                    children: e.jsx(o, { ...X.accept
                    })
                })]
            })]
        })
    })
}
const Cs = pe.div `flex gap-4 border-t last:border-b border-black/10 dark:border-white/10 py-4 mt-4 text-token-text-secondary`,
    ys = pe.div `flex gap-2 flex-col `,
    js = pe.p `font-semibold text-sm text-token-text-primary`,
    vs = pe.p `text-xs`,
    X = W({
        title: {
            id: "ManageCookiesModal.title",
            defaultMessage: "Manage cookies"
        },
        description: {
            id: "ManageCookiesModal.description",
            defaultMessage: "OpenAI uses cookies to improve your experience and analyze site traffic. For more information, read our <cookiePolicy>cookie policy</cookiePolicy>."
        },
        preference1title: {
            id: "ManageCookiesModal.preference1title",
            defaultMessage: "Essential"
        },
        preference1desc: {
            id: "ManageCookiesModal.preference1desc.0",
            defaultMessage: "These cookies are required to operate our Services. For example, they allow us to authenticate users or enable specific features within the Services, including for security purposes."
        },
        preference1toggle: {
            id: "ManageCookiesModal.preference1toggle",
            defaultMessage: "Allow essential cookies"
        },
        preference2title: {
            id: "ManageCookiesModal.preference2title",
            defaultMessage: "Analytics"
        },
        preference2desc: {
            id: "ManageCookiesModal.preference2desc.0",
            defaultMessage: "These cookies help us analyze and understand how our Services perform and are used, such as the number of users, how they interact with our Services, and time spent using the Services."
        },
        preference2toggle: {
            id: "ManageCookiesModal.preference2toggle",
            defaultMessage: "Allow analytics cookies"
        },
        reject: {
            id: "ManageCookiesModal.reject",
            defaultMessage: "Reject all"
        },
        accept: {
            id: "ManageCookiesModal.accept",
            defaultMessage: "Accept all"
        },
        updateSuccess: {
            id: "ManageCookiesModal.updateSuccess",
            defaultMessage: "Your cookie preferences were updated successfully"
        },
        updateFailure: {
            id: "ManageCookiesModal.updateFailure",
            defaultMessage: "Unable to update cookie preferences. Try again later."
        }
    }),
    nl = () => {
        const t = rt(),
            s = t ? .email ? ? t ? .phone_number,
            a = Re(i => i.activeModals.has(Q.LogoutConfirm)),
            n = () => {
                K.closeModal(Q.LogoutConfirm)
            };
        return e.jsx(O, {
            isOpen: a,
            onClose: n,
            showCloseButton: !1,
            type: "warning",
            noPadding: !0,
            size: "custom",
            className: "max-w-[373px] sm:max-w-[400px]",
            position: "center",
            children: e.jsxs("div", {
                className: "flex flex-col items-center justify-center px-6 py-8 sm:p-10",
                children: [e.jsx("p", {
                    className: "text-balance text-center text-2xl font-semibold",
                    children: e.jsx(o, { ...Ge.logoutTitle
                    })
                }), e.jsx("p", {
                    className: "mb-6 mt-4 text-center text-lg text-token-text-secondary",
                    children: s && e.jsx(o, { ...Ge.logoutConfirm,
                        values: {
                            emailOrPhone: s
                        }
                    })
                }), e.jsx(P, {
                    as: "button",
                    size: "large",
                    color: "primary",
                    fullWidth: !0,
                    className: "mb-2 sm:mb-3",
                    "data-testid": "logout-confirm-button",
                    onClick: Fe,
                    children: e.jsx(o, { ...Ge.logoutConfirmButton
                    })
                }), e.jsx(P, {
                    as: "button",
                    size: "large",
                    color: "secondary",
                    fullWidth: !0,
                    onClick: n,
                    children: e.jsx(o, { ...Ge.cancel
                    })
                })]
            })
        })
    },
    Ge = W({
        logoutTitle: {
            id: "biVnvR",
            defaultMessage: "Are you sure you want to log out?"
        },
        logoutConfirm: {
            id: "2aSIBu",
            defaultMessage: "Log out of ChatGPT as {emailOrPhone}?"
        },
        logoutConfirmButton: {
            id: "NeO/CC",
            defaultMessage: "Log out"
        },
        cancel: {
            id: "EORcAJ",
            defaultMessage: "Cancel"
        }
    });

function ol({
    workspaceName: t,
    onChangeWorkspaceName: s
}) {
    const a = b();
    return e.jsxs(e.Fragment, {
        children: [e.jsxs("div", {
            className: "mb-4 flex-wrap",
            children: [e.jsx("label", {
                htmlFor: "workspace-name",
                className: "block pb-1 text-lg font-semibold text-token-text-primary",
                children: e.jsx(o, { ...bt.workspaceNameLabel
                })
            }), e.jsx("p", {
                className: "font-base text-sm text-token-text-secondary",
                children: e.jsx(o, { ...bt.workspaceNameDescription
                })
            })]
        }), e.jsx(Je, {
            ariaLabel: !1,
            type: "text",
            name: "workspace-name",
            placeholder: a.formatMessage(bt.exampleTeamWorkspaceName),
            value: t,
            onChange: n => s(n.target.value),
            maxLength: 64
        })]
    })
}
const bt = W({
    workspaceNameLabel: {
        id: "createWorkspace.workspaceNameLabel",
        defaultMessage: "Workspace name"
    },
    workspaceNameDescription: {
        id: "createWorkspace.workspaceNameDescription",
        defaultMessage: "Set a workspace name for your team. The name can be changed at any time."
    },
    exampleTeamWorkspaceName: {
        id: "createWorkspace.exampleTeamWorkspaceName",
        defaultMessage: "Acme Inc."
    }
});
var ra = (t => (t.FLEXIBLE = "month", t.ANNUAL = "year", t))(ra || {});
const ca = ui(ra),
    il = ({
        isOpen: t,
        onClose: s,
        onSubmit: a
    }) => {
        const n = ce(),
            [i, r] = d.useState(""),
            l = d.useMemo(() => n ? .subscriptionAnalyticsParams, [n]);
        d.useEffect(() => {
            const g = _t();
            y.logEvent(j.accountPayCreateWorkspaceModalShow, { ...l,
                location: g
            }), Be.logEvent("chatgpt_select_team_plan_modal_show", null, {
                location: g ? ? "undefined"
            })
        }, [l]);
        const c = g => {
                y.logEvent(j.accountPayCreateWorkspaceModalClicked, { ...l,
                    ...g
                })
            },
            u = () => {
                y.logEvent(j.accountPayCreateWorkspaceModalDismiss, l)
            },
            h = b();
        return e.jsxs(O, {
            type: "success",
            isOpen: t,
            onClose: () => {
                s(), u()
            },
            className: "max-w-lg",
            showCloseButton: !0,
            title: e.jsx(o, { ...N.createWorkspace
            }),
            children: [e.jsx("div", {
                className: "flex flex-col justify-center bg-token-main-surface-primary pb-2",
                children: e.jsx(ol, {
                    workspaceName: i,
                    onChangeWorkspaceName: r
                })
            }), e.jsxs("div", {
                className: "mt-4 flex flex-row justify-end",
                children: [e.jsx(we, {
                    title: h.formatMessage(N.cancel),
                    onClick: () => {
                        s(), c({
                            buttonType: "Cancel"
                        })
                    }
                }), e.jsx(we, {
                    title: h.formatMessage(N.selectBillingOption),
                    onClick: () => {
                        a(i), c({
                            buttonType: "Billing Options"
                        })
                    },
                    disabled: i === "",
                    color: "primary",
                    className: "ml-4"
                })]
            })]
        })
    },
    da = pe.p `text-base font-medium mb-3`,
    ll = ({
        isOpen: t,
        onClose: s,
        onSubmit: a,
        minimumSeats: n,
        billingDetails: i
    }) => {
        const r = ce(),
            [l, c] = d.useState("year"),
            [u, h] = d.useState(!1),
            g = b(),
            [m] = d.useState(new Date),
            {
                config: p
            } = Et("605176990"),
            x = p.get("enabled", !1),
            [A, v] = d.useState(x ? Math.max(qs, n) : n),
            C = dl[l],
            S = n > St ? n : St,
            {
                flexibleBillingPlan: k,
                annualBillingPlan: E
            } = An(i.currency),
            _ = d.useMemo(() => r ? .subscriptionAnalyticsParams, [r]);
        d.useEffect(() => {
            const D = _t();
            y.logEvent(j.accountPaySelectTeamPlanModalShow, { ..._,
                location: D
            })
        }, [_]);
        const $ = D => {
                switch (D) {
                    case "month":
                        y.logEvent(j.accountPayTeamPlanSelectionClicked, { ..._,
                            planLength: Xe.MONTHLY
                        });
                        break;
                    case "year":
                        y.logEvent(j.accountPayTeamPlanSelectionClicked, { ..._,
                            planLength: Xe.ANNUAL
                        });
                        break
                }
            },
            B = (D, Ae) => {
                y.logEvent(j.accountPaySelectTeamPlanModalClicked, { ..._,
                    buttonType: "Continue",
                    numberOfSeats: Ae,
                    planLength: D
                })
            },
            ne = () => {
                y.logEvent(j.accountPaySelectTeamPlanModalDismiss, _)
            };
        return e.jsx(O, {
            type: "success",
            isOpen: t,
            onClose: () => {
                s(), ne()
            },
            size: "custom",
            noPadding: !0,
            className: "max-w-3xl",
            showCloseButton: !0,
            title: g.formatMessage(N.selectTeamPlanModalTitle),
            children: e.jsxs("div", {
                className: "grid grid-flow-row grid-cols-3",
                children: [e.jsxs(Ys, {
                    className: "col-span-3 grid md:col-span-2 md:grid-cols-2",
                    defaultValue: l,
                    onValueChange: D => {
                        ca(D) && (c(D), $(D))
                    },
                    children: [e.jsx(gs, {
                        billingType: "month",
                        ...k
                    }), e.jsx(gs, {
                        billingType: "year",
                        ...E
                    })]
                }), e.jsxs("div", {
                    className: "col-span-3 overflow-hidden border-l border-token-main-surface-tertiary bg-token-main-surface-secondary p-6 md:col-span-1",
                    children: [e.jsx("label", {
                        className: "mb-3 block text-base font-semibold",
                        htmlFor: "seats",
                        children: e.jsx(o, { ...N.seatsTitle
                        })
                    }), e.jsx(Ln, {
                        numSeats: A,
                        minSeats: S,
                        setNumSeats: v
                    }), e.jsx(_n, {}), e.jsx(da, {
                        children: e.jsx(o, { ...N.summaryTitle
                        })
                    }), e.jsxs("div", {
                        className: "text-sm",
                        children: [e.jsx("p", {
                            className: "mb-2",
                            children: e.jsx(o, { ...C.name
                            })
                        }), e.jsxs(Pn, {
                            children: [e.jsx(ms, {
                                children: e.jsx(o, { ...C.billed,
                                    values: {
                                        date: e.jsx(it, {
                                            value: m
                                        })
                                    }
                                })
                            }), e.jsx(ms, {
                                children: e.jsx("b", {
                                    children: e.jsx(o, { ...C.total,
                                        values: {
                                            currencyCode: g.formatMessage(k.currencyCode),
                                            currencySign: g.formatMessage(k.currencySign),
                                            totalCost: (A || 0) * (l === "year" ? E.unitCost : k.unitCost)
                                        }
                                    })
                                })
                            })]
                        })]
                    }), e.jsx("div", {
                        className: "mt-4 flex justify-end",
                        children: e.jsx(we, {
                            title: g.formatMessage(N.continueToBillingButton),
                            onClick: () => {
                                h(!0), a(l, A), B(l, A)
                            },
                            disabled: !1,
                            loading: u,
                            color: "primary"
                        })
                    })]
                })]
            })
        })
    },
    rl = ({
        isOpen: t,
        onClose: s,
        onSubmit: a,
        minimumSeats: n,
        billingDetails: i
    }) => {
        const r = ce(),
            [l, c] = d.useState("year"),
            [u, h] = d.useState(!1),
            g = b(),
            {
                config: m
            } = Et("605176990"),
            p = m.get("enabled", !1),
            [x, A] = d.useState(p ? Math.max(qs, n) : n),
            v = ul[l],
            C = Math.max(n, St),
            {
                flexibleBillingPlan: S,
                annualBillingPlan: k
            } = Tn(i.currency),
            E = Dn(isNaN(x) ? 0 : x, C, In),
            _ = d.useMemo(() => r ? .subscriptionAnalyticsParams, [r]);
        d.useEffect(() => {
            const D = _t();
            y.logEvent(j.accountPaySelectTeamPlanModalShow, { ..._,
                location: D
            })
        }, [_]);
        const $ = D => {
                switch (D) {
                    case "month":
                        y.logEvent(j.accountPayTeamPlanSelectionClicked, { ..._,
                            buttonType: "Continue",
                            numberOfSeats: x,
                            planLength: Xe.MONTHLY
                        });
                        break;
                    case "year":
                        y.logEvent(j.accountPaySelectTeamPlanModalClicked, { ..._,
                            buttonType: "Continue",
                            numberOfSeats: x,
                            planLength: Xe.ANNUAL
                        });
                        break
                }
            },
            B = (D, Ae) => {
                y.logEvent(j.accountPaySelectTeamPlanModalClicked, { ..._,
                    buttonType: "Continue",
                    numberOfSeats: Ae,
                    planLength: D
                })
            },
            ne = () => {
                y.logEvent(j.accountPaySelectTeamPlanModalDismiss, _)
            };
        return e.jsx(O, {
            type: "success",
            isOpen: t,
            onClose: () => {
                s(), ne()
            },
            size: "custom",
            noPadding: !0,
            removePopoverStyling: !0,
            className: "max-w-4xl",
            showCloseButton: !0,
            title: g.formatMessage(N.selectTeamPlanModalTitle),
            children: e.jsxs("div", {
                className: "grid grid-flow-row grid-cols-3",
                children: [e.jsxs("div", {
                    className: "flex-column col-span-3 p-5 md:col-span-2 md:grid-cols-2",
                    children: [e.jsx(On, {
                        numSeats: x,
                        minSeats: C,
                        setNumSeats: A
                    }), e.jsxs(Ys, {
                        className: "col-span-3 mt-5 grid gap-4 md:col-span-2 md:grid-cols-2",
                        defaultValue: l,
                        onValueChange: D => {
                            ca(D) && (c(D), $(D))
                        },
                        children: [e.jsx(fs, {
                            billingType: "year",
                            ...k,
                            selectedValue: l
                        }), e.jsx(fs, {
                            billingType: "month",
                            ...S,
                            selectedValue: l
                        })]
                    })]
                }), e.jsxs("div", {
                    className: "col-span-3 flex h-full flex-col overflow-hidden border-l border-token-main-surface-tertiary bg-token-main-surface-secondary p-6 md:col-span-1",
                    children: [e.jsx(da, {
                        children: e.jsx(o, { ...N.summaryTitle
                        })
                    }), e.jsxs("div", {
                        className: "flex flex-grow flex-col text-sm",
                        children: [e.jsxs("div", {
                            className: "flex w-full justify-between text-sm text-token-text-secondary",
                            children: [e.jsx("div", {
                                className: "flex",
                                children: e.jsx(o, { ...v.name
                                })
                            }), e.jsx("div", {
                                className: "flex",
                                children: e.jsx(o, { ...N.allPlansPreDiscountTotal,
                                    values: {
                                        currencySign: g.formatMessage(S.currencySign),
                                        preDiscountTotalAmount: ((E || 0) * (l === "year" ? k.monthlyCost * 12 : S.monthlyCost)).toLocaleString()
                                    }
                                })
                            })]
                        }), e.jsx("div", {
                            className: "text-xs text-token-text-tertiary",
                            children: e.jsx(o, { ...v.breakdown,
                                values: {
                                    currencySign: g.formatMessage(S.currencySign),
                                    monthlyCost: l === "year" ? k.monthlyCost : S.monthlyCost,
                                    numSeats: E
                                }
                            })
                        }), e.jsxs("div", {
                            className: "mt-3 flex w-full justify-between text-sm text-token-text-secondary",
                            children: [e.jsx("div", {
                                className: "flex",
                                children: e.jsx(o, { ...N.planDiscountLabel
                                })
                            }), e.jsx("div", {
                                className: _e("flex", l === "year" && k.discountedMonthlyCost < k.monthlyCost && "font-medium text-[#10A37F]"),
                                children: e.jsx(o, { ...v.discountAmount,
                                    values: {
                                        currencySign: g.formatMessage(S.currencySign),
                                        discountAmount: ((E || 0) * (l === "year" ? (k.monthlyCost - k.discountedMonthlyCost) * 12 : S.monthlyCost - S.discountedMonthlyCost)).toLocaleString()
                                    }
                                })
                            })]
                        }), v.discountDescription && k.discountedMonthlyCost < k.monthlyCost && l === "year" && e.jsx("div", {
                            className: "text-xs text-token-text-tertiary",
                            children: e.jsx(o, { ...v.discountDescription,
                                values: {
                                    discountPercentage: Math.floor((1 - k.discountedMonthlyCost / k.monthlyCost) * 100)
                                }
                            })
                        }), e.jsx("hr", {
                            className: "my-3 border-token-border-light"
                        }), e.jsxs("div", {
                            className: "flex w-full justify-between text-base font-medium",
                            children: [e.jsx("div", {
                                className: "flex",
                                children: e.jsx(o, { ...N.allPlansTodayTotal
                                })
                            }), e.jsx("div", {
                                className: "flex",
                                children: e.jsx(o, { ...v.total,
                                    values: {
                                        currencyCode: g.formatMessage(S.currencyCode),
                                        currencySign: g.formatMessage(S.currencySign),
                                        totalAmount: ((E || 0) * (l === "year" ? k.unitCost : S.unitCost)).toLocaleString()
                                    }
                                })
                            })]
                        }), e.jsx("div", {
                            className: "mb-8 text-xs text-token-text-tertiary",
                            children: e.jsx(o, { ...v.billed
                            })
                        })]
                    }), e.jsx(we, {
                        title: g.formatMessage(N.continueToBillingButton),
                        onClick: () => {
                            h(!0), a(l, E), B(l, E)
                        },
                        disabled: !1,
                        loading: u,
                        color: "primary",
                        className: "w-full rounded-xl"
                    })]
                })]
            })
        })
    };

function cl({
    isOpen: t,
    onClose: s,
    minimumSeats: a,
    billingDetails: n,
    existingAccount: i = void 0
}) {
    const r = b(),
        l = V(),
        [c, u] = d.useState(i ? Nn(r, i) : ""),
        h = Os(),
        g = async (A, v) => {
            try {
                const C = await R.getCheckoutLink(h, "Teams", {
                    plan_name: "chatgptteamplan",
                    team_plan_data: {
                        workspace_name: c,
                        price_interval: A,
                        seat_quantity: v,
                        existing_workspace_id: i ? .id
                    },
                    billing_details: n
                });
                window.location.href = C.url
            } catch {
                l.warning(r.formatMessage(N.paymentErrorWarning), {
                    hasCloseButton: !0
                })
            }
        },
        {
            config: m
        } = Et("3525436409"),
        x = m.get("enabled", !1) ? rl : ll;
    return c === "" ? e.jsx(il, {
        isOpen: t,
        onClose: s,
        onSubmit: A => {
            u(A)
        }
    }) : e.jsx(x, {
        isOpen: t,
        onClose: s,
        onSubmit: (A, v) => {
            g(A, v)
        },
        minimumSeats: a,
        billingDetails: n
    })
}
const dl = {
        month: {
            name: N.flexiblePlanSelected,
            billed: N.flexiblePlanBilled,
            total: N.flexiblePlanTotal
        },
        year: {
            name: N.annualPlanSelected,
            billed: N.annualPlanBilled,
            total: N.annualPlanTotal
        }
    },
    ul = {
        month: {
            name: N.chatGptTeam,
            breakdown: N.flexiblePlanAmountBreakdown,
            discountAmount: N.flexiblePlanDiscountAmount,
            discountDescription: void 0,
            billed: N.flexiblePlanBilledMonthly,
            total: N.allPlansTotalAmount
        },
        year: {
            name: N.chatGptTeam,
            breakdown: N.annualPlanAmountBreakdown,
            discountAmount: N.annualPlanDiscountAmount,
            discountDescription: N.annualPlanDiscountDescription,
            billed: N.annualPlanBilledAnnually,
            total: N.allPlansTotalAmount
        }
    };

function gl() {
    const {
        isUnauthenticated: t
    } = ot(), s = Te(), {
        pathname: a,
        hash: n
    } = Hs(), i = Lt(), r = oi(n), l = ii(n), c = (r || l) && !t;
    return d.useEffect(() => {
        !l || !t || i({
            authType: "signup",
            callbackUrl: window.location.href
        })
    }, [l, t, i]), d.useEffect(() => {
        a.startsWith("/auth") || fe.getBooleanCookie(he.ShowPaymentModal) && (fe.deleteCookie(he.ShowPaymentModal), Pt(s, "Show payment modal cookie"))
    }, []), d.useEffect(() => {
        c ? (K.closeAllActiveModals(), K.openModal(Q.AccountPayment)) : K.closeModal(Q.AccountPayment)
    }, [c]), {
        isOpen: c,
        isTeamAccountIntent: l
    }
}

function ml(t) {
    return t.type === os.GDRIVE_SYNC_CONNECTOR || t.type === os.SLACK_SYNC_CONNECTOR ? `${window.location.origin}/ca/${t.id}/oauth/callback` : `${window.location.origin}/ccc/${t.id}/oauth/callback`
}
const fl = ({
        entry: t,
        isConnected: s,
        onDisconnect: a,
        onConnect: n,
        redirectUri: i
    }) => e.jsx(ua, {
        isConnected: s,
        onConnect: () => n({
            id: t.id
        }, "settings_connected_apps", ml(t), i),
        onDisconnect: () => a(t ? .type)
    }),
    ua = ({
        isConnected: t,
        onDisconnect: s,
        onConnect: a
    }) => t ? e.jsx(P, {
        onClick: s,
        color: "danger-outline",
        size: "small",
        children: e.jsx(o, { ...Ss.disconnect
        })
    }) : e.jsx(P, {
        onClick: a,
        color: "secondary",
        size: "small",
        children: e.jsx(o, { ...Ss.connect
        })
    }),
    Ss = W({
        connect: {
            id: "connectorSettings.connect",
            defaultMessage: "Connect"
        },
        disconnect: {
            id: "connectorSettings.disconnect",
            defaultMessage: "Disconnect"
        }
    });

function Ct({
    entry: t,
    description: s
}) {
    let a;
    switch (t.type) {
        case T.CONFLUENCE:
            a = Hn;
            break;
        case T.GDRIVE:
            a = Vn;
            break;
        case T.JIRA:
            a = Gn;
            break;
        case T.NOTION_OPEN_CONNECTOR:
            a = Un;
            break;
        case T.O365:
        case T.O365_PERSONAL:
        case T.O365_BUSINESS:
            a = Wn;
            break;
        case T.SLACK_OPEN_CONNECTOR:
            a = Rn;
            break
    }
    const n = b();
    return e.jsx(w, {
        children: e.jsxs("div", {
            className: "flex flex-col gap-2 pb-1 pt-3",
            children: [e.jsxs("div", {
                className: "flex flex-row items-center gap-2",
                children: [e.jsx(a, {
                    className: "icon-lg"
                }), e.jsx("p", {
                    className: "text-md flex-1 font-semibold text-token-text-primary",
                    children: Bn(t.type, n)
                }), e.jsx(fl, {
                    entry: t,
                    isConnected: !!t.access_token,
                    onDisconnect: Qs,
                    onConnect: Fn,
                    redirectUri: "#settings/ConnectorSettings"
                })]
            }), e.jsx("p", {
                className: "text-token-text-secondary",
                children: e.jsx(o, { ...s
                })
            })]
        })
    })
}

function hl() {
    const {
        data: t,
        isLoading: s,
        refetch: a
    } = ye({
        queryKey: ["user_connection_status"],
        queryFn: zn.user_connection_status
    }), [n] = pn(), r = `?model=${n.get("model")??"gpt-4o-gdrive"}#settings/ConnectorSettings`;
    return e.jsxs("div", {
        children: [e.jsx(w, {
            children: e.jsx("div", {
                className: "mb-2 mt-8 text-lg font-medium text-token-text-primary",
                children: e.jsx(o, {
                    id: "80FWVq",
                    defaultMessage: "Synced services"
                })
            })
        }), e.jsx("div", {
            children: s ? e.jsx("div", {
                className: "p-2",
                children: e.jsx(gi, {
                    lines: 4
                })
            }) : t ? .connection_statuses.length ? e.jsx("div", {
                children: t.connection_statuses.map(l => e.jsx(pl, {
                    connection: l,
                    redirectTo: r,
                    refetch: a
                }, l.user_connection_details.connection_instance_id))
            }) : e.jsx("p", {
                className: "my-2 text-token-text-secondary",
                children: e.jsx(o, {
                    id: "nzXh59",
                    defaultMessage: "No connections found."
                })
            })
        })]
    })
}

function pl({
    connection: t,
    redirectTo: s,
    refetch: a
}) {
    return e.jsx("div", {
        children: e.jsx(w, {
            children: e.jsxs("div", {
                className: "flex flex-col gap-2 pb-1 pt-3",
                children: [e.jsxs("div", {
                    className: "flex flex-row items-center gap-2",
                    children: [e.jsx("img", {
                        src: t.connection_display_info.icon_url ? ? "",
                        alt: "",
                        className: "icon-lg"
                    }), e.jsxs("div", {
                        className: "flex-1",
                        children: [e.jsx("p", {
                            className: "text-md font-semibold text-token-text-primary",
                            children: t.connection_display_info.display_name
                        }), e.jsx(xl, {
                            activationState: t.user_connection_details.activation_status,
                            className: "mt-0.5"
                        })]
                    }), e.jsx(Kn, {
                        connection: t,
                        redirectTo: s,
                        refetch: a
                    })]
                }), e.jsx("p", {
                    className: "text-xs text-token-text-secondary",
                    children: t.connection_display_info.description
                })]
            })
        })
    })
}

function xl({
    activationState: t,
    className: s
}) {
    let a;
    switch (t) {
        case "activated":
            {
                a = e.jsxs(e.Fragment, {
                    children: [e.jsx(is, {
                        className: "icon-sm text-green-500"
                    }), e.jsx("span", {
                        children: e.jsx(o, {
                            id: "238hDV",
                            defaultMessage: "Ready to use"
                        })
                    })]
                });
                break
            }
        case "partially_activated":
            {
                a = e.jsxs(e.Fragment, {
                    children: [e.jsx(is, {
                        className: "icon-sm text-yellow-500"
                    }), e.jsx("span", {
                        children: e.jsx(o, {
                            id: "8qYMe2",
                            defaultMessage: "Still syncing, but ready to search"
                        })
                    })]
                });
                break
            }
        case "activating":
            {
                a = e.jsxs(e.Fragment, {
                    children: [e.jsx(qn, {
                        className: "icon-sm"
                    }), e.jsx("span", {
                        children: e.jsx(o, {
                            id: "ydJwWN",
                            defaultMessage: "Getting ready"
                        })
                    })]
                });
                break
            }
        case "inactive":
            {
                a = e.jsx("span", {
                    children: e.jsx(o, {
                        id: "4NX6bQ",
                        defaultMessage: "Not connected"
                    })
                });
                break
            }
    }
    return e.jsx("div", {
        className: _e("flex flex-row items-center gap-1 text-xs text-token-text-secondary", s),
        children: a
    })
}
const Ml = t => d.createElement("svg", {
        width: 40,
        height: 40,
        viewBox: "0 0 40 40",
        fill: "none",
        xmlns: "http://www.w3.org/2000/svg",
        ...t
    }, d.createElement("rect", {
        width: 40,
        height: 40,
        rx: 8,
        fill: "white"
    }), d.createElement("rect", {
        x: .5,
        y: .5,
        width: 39,
        height: 39,
        rx: 7.5,
        stroke: "black",
        strokeOpacity: .1
    }), d.createElement("path", {
        d: "M23.3359 13.4346C23.5508 13.4346 23.917 13.4688 24.4346 13.5371C24.9521 13.6055 25.5186 13.8008 26.1338 14.123C26.7588 14.4355 27.3252 14.958 27.833 15.6904C27.8037 15.7197 27.6621 15.8271 27.4082 16.0127C27.1543 16.1885 26.8711 16.4521 26.5586 16.8037C26.2461 17.1455 25.9727 17.585 25.7383 18.1221C25.5039 18.6494 25.3867 19.2793 25.3867 20.0117C25.3867 20.8516 25.5332 21.5645 25.8262 22.1504C26.1289 22.7363 26.4756 23.21 26.8662 23.5713C27.2666 23.9229 27.6182 24.1816 27.9209 24.3477C28.2334 24.5137 28.3994 24.6016 28.4189 24.6113C28.4092 24.6504 28.2822 24.9971 28.0381 25.6514C27.8037 26.3057 27.4131 27.0332 26.8662 27.834C26.3877 28.5273 25.8701 29.167 25.3135 29.7529C24.7666 30.3389 24.1074 30.6318 23.3359 30.6318C22.8184 30.6318 22.3936 30.5586 22.0615 30.4121C21.7295 30.2559 21.3877 30.1045 21.0361 29.958C20.6846 29.8018 20.2109 29.7236 19.6152 29.7236C19.0391 29.7236 18.5557 29.8018 18.165 29.958C17.7842 30.1143 17.418 30.2705 17.0664 30.4268C16.7246 30.583 16.3193 30.6611 15.8506 30.6611C15.1377 30.6611 14.5127 30.3779 13.9756 29.8115C13.4385 29.2451 12.8867 28.5664 12.3203 27.7754C11.666 26.8379 11.1045 25.6953 10.6357 24.3477C10.1768 22.9902 9.94727 21.623 9.94727 20.2461C9.94727 18.7715 10.2256 17.5361 10.7822 16.54C11.3389 15.5342 12.0518 14.7773 12.9209 14.2695C13.7998 13.752 14.708 13.4932 15.6455 13.4932C16.1436 13.4932 16.6123 13.5762 17.0518 13.7422C17.4912 13.8984 17.9014 14.0596 18.2822 14.2256C18.6729 14.3916 19.0244 14.4746 19.3369 14.4746C19.6396 14.4746 19.9912 14.3867 20.3916 14.2109C20.792 14.0352 21.2412 13.8643 21.7393 13.6982C22.2373 13.5225 22.7695 13.4346 23.3359 13.4346ZM22.5303 11.5742C22.1494 12.0332 21.6709 12.4189 21.0947 12.7314C20.5186 13.0342 19.9717 13.1855 19.4541 13.1855C19.3467 13.1855 19.2441 13.1758 19.1465 13.1562C19.1367 13.127 19.127 13.0732 19.1172 12.9951C19.1074 12.917 19.1025 12.834 19.1025 12.7461C19.1025 12.1602 19.2295 11.5938 19.4834 11.0469C19.7373 10.4902 20.0254 10.0313 20.3477 9.66992C20.7578 9.18164 21.2754 8.77637 21.9004 8.4541C22.5254 8.13184 23.1211 7.96094 23.6875 7.94141C23.7168 8.06836 23.7314 8.21973 23.7314 8.39551C23.7314 8.98145 23.6191 9.55273 23.3945 10.1094C23.1699 10.6562 22.8818 11.1445 22.5303 11.5742Z",
        fill: "black"
    })),
    bl = t => d.createElement("svg", {
        xmlns: "http://www.w3.org/2000/svg",
        viewBox: "52 42 88 66",
        ...t
    }, d.createElement("path", {
        fill: "#4285f4",
        d: "M58 108h14V74L52 59v43c0 3.32 2.69 6 6 6"
    }), d.createElement("path", {
        fill: "#34a853",
        d: "M120 108h14c3.32 0 6-2.69 6-6V59l-20 15"
    }), d.createElement("path", {
        fill: "#fbbc04",
        d: "M120 48v26l20-15v-8c0-7.42-8.47-11.65-14.4-7.2"
    }), d.createElement("path", {
        fill: "#ea4335",
        d: "M72 74V48l24 18 24-18v26L96 92"
    }), d.createElement("path", {
        fill: "#c5221f",
        d: "M52 51v8l20 15V48l-5.6-4.2c-5.94-4.45-14.4-.22-14.4 7.2"
    })),
    Cl = t => d.createElement("svg", {
        id: "Livello_1",
        xmlns: "http://www.w3.org/2000/svg",
        xmlnsXlink: "http://www.w3.org/1999/xlink",
        x: "0px",
        y: "0px",
        viewBox: "0 0 200 200",
        enableBackground: "new 0 0 200 200",
        xmlSpace: "preserve",
        ...t
    }, d.createElement("g", null, d.createElement("g", {
        transform: "translate(3.75 3.75)"
    }, d.createElement("path", {
        fill: "#FFFFFF",
        d: "M148.882,43.618l-47.368-5.263l-57.895,5.263L38.355,96.25l5.263,52.632l52.632,6.579l52.632-6.579 l5.263-53.947L148.882,43.618z"
    }), d.createElement("path", {
        fill: "#1A73E8",
        d: "M65.211,125.276c-3.934-2.658-6.658-6.539-8.145-11.671l9.132-3.763c0.829,3.158,2.276,5.605,4.342,7.342 c2.053,1.737,4.553,2.592,7.474,2.592c2.987,0,5.553-0.908,7.697-2.724s3.224-4.132,3.224-6.934c0-2.868-1.132-5.211-3.395-7.026 s-5.105-2.724-8.5-2.724h-5.276v-9.039H76.5c2.921,0,5.382-0.789,7.382-2.368c2-1.579,3-3.737,3-6.487 c0-2.447-0.895-4.395-2.684-5.855s-4.053-2.197-6.803-2.197c-2.684,0-4.816,0.711-6.395,2.145s-2.724,3.197-3.447,5.276 l-9.039-3.763c1.197-3.395,3.395-6.395,6.618-8.987c3.224-2.592,7.342-3.895,12.342-3.895c3.697,0,7.026,0.711,9.974,2.145 c2.947,1.434,5.263,3.421,6.934,5.947c1.671,2.539,2.5,5.382,2.5,8.539c0,3.224-0.776,5.947-2.329,8.184 c-1.553,2.237-3.461,3.947-5.724,5.145v0.539c2.987,1.25,5.421,3.158,7.342,5.724c1.908,2.566,2.868,5.632,2.868,9.211 s-0.908,6.776-2.724,9.579c-1.816,2.803-4.329,5.013-7.513,6.618c-3.197,1.605-6.789,2.421-10.776,2.421 C73.408,129.263,69.145,127.934,65.211,125.276z"
    }), d.createElement("path", {
        fill: "#1A73E8",
        d: "M121.25,79.961l-9.974,7.25l-5.013-7.605l17.987-12.974h6.895v61.197h-9.895L121.25,79.961z"
    }), d.createElement("path", {
        fill: "#EA4335",
        d: "M148.882,196.25l47.368-47.368l-23.684-10.526l-23.684,10.526l-10.526,23.684L148.882,196.25z"
    }), d.createElement("path", {
        fill: "#34A853",
        d: "M33.092,172.566l10.526,23.684h105.263v-47.368H43.618L33.092,172.566z"
    }), d.createElement("path", {
        fill: "#4285F4",
        d: "M12.039-3.75C3.316-3.75-3.75,3.316-3.75,12.039v136.842l23.684,10.526l23.684-10.526V43.618h105.263 l10.526-23.684L148.882-3.75H12.039z"
    }), d.createElement("path", {
        fill: "#188038",
        d: "M-3.75,148.882v31.579c0,8.724,7.066,15.789,15.789,15.789h31.579v-47.368H-3.75z"
    }), d.createElement("path", {
        fill: "#FBBC04",
        d: "M148.882,43.618v105.263h47.368V43.618l-23.684-10.526L148.882,43.618z"
    }), d.createElement("path", {
        fill: "#1967D2",
        d: "M196.25,43.618V12.039c0-8.724-7.066-15.789-15.789-15.789h-31.579v47.368H196.25z"
    }))));

function ks({
    type: t
}) {
    let s, a = Ve.googleCalendarName,
        n = Ve.googleCalendarDesc;
    switch (t) {
        case Ze.GCAL_CONNECTOR:
            s = Cl;
            break;
        case Ze.GMAIL_CONNECTOR:
            s = bl, a = Ve.gmailName, n = Ve.gmailDesc;
            break
    }
    const i = b(),
        {
            connectors: r
        } = Yn([t]),
        l = r.get(t);
    if (!l) return null;
    const c = "#settings/ConnectorSettings";
    return e.jsx(w, {
        children: e.jsxs("div", {
            className: "flex flex-col gap-2 pb-1 pt-3",
            children: [e.jsxs("div", {
                className: "flex flex-row items-center gap-2",
                children: [e.jsx(s, {
                    className: "icon-lg"
                }), e.jsx("p", {
                    className: "text-md flex-1 font-semibold text-token-text-primary",
                    children: i ? .formatMessage(a)
                }), e.jsx(ua, {
                    isConnected: !!l.access_token,
                    onDisconnect: () => {
                        Qs(l.type)
                    },
                    onConnect: () => {
                        Qn({
                            id: l.id
                        }, c)
                    }
                })]
            }), e.jsx("p", {
                className: "text-token-text-secondary",
                children: e.jsx(o, { ...n
                })
            })]
        })
    })
}
const Ve = W({
    googleCalendarDesc: {
        id: "connectorSettings.googleCalendarDesc.1",
        defaultMessage: "View your Google Calendar and schedule events."
    },
    googleCalendarName: {
        id: "connectorSettings.googleCalendarName.1",
        defaultMessage: "Google Calendar"
    },
    gmailDesc: {
        id: "connectorSettings.gmailDesc.1",
        defaultMessage: "View and send emails from your Gmail account."
    },
    gmailName: {
        id: "connectorSettings.gmailName.1",
        defaultMessage: "Gmail"
    }
});

function yl({
    clientApplications: t,
    isConfluenceEnabled: s,
    isGdriveEnabled: a,
    isNotionOpenConnectorEnabled: n,
    isJiraEnabled: i,
    isO365Enabled: r,
    isSlackOpenEnabled: l
}) {
    const {
        connectorConfig: c,
        isLoading: u
    } = $s();
    return u ? e.jsx("div", {
        className: "flex justify-center",
        children: e.jsx(Ne, {})
    }) : !c.size && !t ? .length ? e.jsx(ct, {
        type: "info",
        children: e.jsx(o, { ...Se.noConnectorSettings
        })
    }) : e.jsx(jl, {
        clientApplications: t,
        connectorConfig: c,
        isConfluenceEnabled: s,
        isGdriveEnabled: a,
        isJiraEnabled: i,
        isNotionOpenConnectorEnabled: n,
        isO365Enabled: r,
        isSlackOpenEnabled: l
    })
}

function jl({
    clientApplications: t,
    connectorConfig: s,
    isConfluenceEnabled: a,
    isGdriveEnabled: n,
    isJiraEnabled: i,
    isNotionOpenConnectorEnabled: r,
    isO365Enabled: l,
    isSlackOpenEnabled: c
}) {
    s.get(T.CONFLUENCE);
    const u = s.get(T.GDRIVE);
    s.get(T.NOTION_OPEN_CONNECTOR), s.get(T.JIRA);
    const h = s.get(T.O365_PERSONAL),
        g = s.get(T.O365_BUSINESS);
    s.get(T.SLACK_OPEN_CONNECTOR);
    const m = n && !!u,
        p = l && !!h,
        x = l && !!g,
        {
            config: A
        } = tn("1001765573"),
        v = A.get("ca_enabled", !1),
        {
            value: C
        } = $e("4206189746"),
        S = t ? .filter(({
            type: k
        }) => k === "apple");
    return e.jsxs("div", {
        className: "flex flex-col",
        children: [e.jsx(w, {
            children: e.jsx("div", {
                className: "my-2",
                children: e.jsx(o, { ...Se.connectorsTitle
                })
            })
        }), C && e.jsxs(e.Fragment, {
            children: [e.jsx(ks, {
                type: Ze.GCAL_CONNECTOR
            }), e.jsx(ks, {
                type: Ze.GMAIL_CONNECTOR
            })]
        }), u && m && e.jsx(Ct, {
            entry: u,
            description: Se.googleDriveDesc
        }), h && p && e.jsx(Ct, {
            entry: h,
            description: Se.o365Desc
        }), g && x && e.jsx(Ct, {
            entry: g,
            description: Se.o365BusinessDesc
        }), !1, !1, !1, !1, S && e.jsx(vl, {
            clientApplications: S
        }), v && e.jsx(hl, {})]
    })
}

function vl({
    clientApplications: t
}) {
    const {
        mutate: s,
        isPending: a
    } = $n();
    return e.jsx(e.Fragment, {
        children: t.map(n => e.jsx(Sl, {
            clientApplication: n,
            disabled: a,
            onDisconnect: () => {
                y.logEventWithStatsig(j.connectorSettingsClientApplicationDisconnectButtonClicked, "chatgpt_connector_settings_client_application_disconnect_button_clicked", {
                    id: n.id,
                    name: n.name,
                    type: n.type
                }), s(n.id)
            }
        }, n.id))
    })
}

function Sl({
    clientApplication: t,
    disabled: s,
    onDisconnect: a
}) {
    return e.jsx(w, {
        children: e.jsxs("div", {
            className: "flex flex-col gap-2 pb-1 pt-3",
            children: [e.jsxs("div", {
                className: "flex flex-row items-center gap-2",
                children: [e.jsx(Ml, {
                    className: "icon-lg"
                }), e.jsx("p", {
                    className: "text-md flex-1 font-semibold text-token-text-primary",
                    children: t.name
                }), e.jsx(P, {
                    onClick: a,
                    color: "danger-outline",
                    size: "small",
                    disabled: s,
                    children: e.jsx(o, { ...Se.disconnect
                    })
                })]
            }), e.jsx("p", {
                className: "text-token-text-secondary",
                children: e.jsx(o, { ...Se.appleDesc
                })
            })]
        })
    })
}
const Se = W({
        connectorsTitle: {
            id: "connectorSettings.connectorsTitle",
            defaultMessage: "Connect apps to access their information in ChatGPT."
        },
        googleDriveDesc: {
            id: "connectorSettings.googleDriveDesc.1",
            defaultMessage: "Upload Google Docs, Sheets, Slides and other files."
        },
        o365Desc: {
            id: "connectorSettings.o365Desc.1",
            defaultMessage: "Upload Microsoft Word, Excel, PowerPoint and other files."
        },
        o365BusinessDesc: {
            id: "connectorSettings.o365BusinessDesc.1",
            defaultMessage: "Upload Microsoft Word, Excel, PowerPoint, and other files, including those from SharePoint sites."
        },
        noConnectorSettings: {
            id: "connectorSettings.noConnectorSettings",
            defaultMessage: "Unable to get connected apps"
        },
        appleDesc: {
            id: "P5OVxG",
            defaultMessage: "Get personalized ChatGPT responses and Plus benefits when using Siri and Writing Tools."
        },
        disconnect: {
            id: "connectorSettings.disconnectButton",
            defaultMessage: "Disconnect"
        }
    }),
    kl = t => d.createElement("svg", {
        width: 24,
        height: 24,
        viewBox: "0 0 24 24",
        fill: "none",
        xmlns: "http://www.w3.org/2000/svg",
        ...t
    }, d.createElement("path", {
        fillRule: "evenodd",
        clipRule: "evenodd",
        d: "M12 3.21876L14.4631 4.93466C14.7001 5.09977 14.9701 5.21155 15.2542 5.26238L18.2093 5.79072L18.7376 8.74559C18.7884 9.02993 18.9003 9.30008 19.0656 9.53719L20.7813 12L19.0655 14.4629C18.9003 14.7 18.7884 14.9702 18.7376 15.2543L18.2093 18.2093L15.2545 18.7376C14.97 18.7884 14.7 18.9003 14.4631 19.0654L12 20.7813L9.53718 19.0656C9.30007 18.9003 9.03003 18.7884 8.74569 18.7376L5.79076 18.2093L5.26239 15.2543C5.21154 14.9699 5.09969 14.7 4.93466 14.4631L3.21875 12L4.93463 9.53696C5.09975 9.29994 5.21155 9.02999 5.26238 8.74572L5.79072 5.79072L8.7457 5.26239C9.02996 5.21156 9.29992 5.09977 9.53693 4.93466L12 3.21876ZM13.1432 1.57771C12.4562 1.0991 11.5438 1.0991 10.8568 1.57771L8.3937 3.29361L5.43872 3.82194C4.6145 3.9693 3.9693 4.6145 3.82194 5.43872L3.29361 8.39368L1.57772 10.8568C1.0991 11.5438 1.09909 12.4562 1.5777 13.1432L3.29359 15.6063L3.82194 18.5613C3.9693 19.3855 4.61449 20.0307 5.43867 20.1781L8.39364 20.7064L10.8568 22.4223C11.5438 22.9009 12.4562 22.9009 13.1432 22.4223L15.6063 20.7064L18.5613 20.1781C19.3855 20.0307 20.0307 19.3855 20.1781 18.5614L20.7064 15.6064L22.4223 13.1432C22.9009 12.4562 22.9009 11.5438 22.4223 10.8568L20.7064 8.39371L20.1781 5.43873C20.0307 4.61455 19.3855 3.96931 18.5613 3.82194L15.6064 3.29363L13.1432 1.57771Z",
        fill: "currentColor"
    }), d.createElement("path", {
        d: "M11.5876 8.1018C11.7862 7.81202 12.2138 7.81202 12.4124 8.1018L13.4865 9.669C13.5515 9.76387 13.6473 9.83342 13.7576 9.86594L15.58 10.4031C15.9169 10.5025 16.0491 10.9092 15.8349 11.1876L14.6763 12.6934C14.6061 12.7846 14.5696 12.8971 14.5727 13.0121L14.625 14.9113C14.6346 15.2625 14.2886 15.5138 13.9576 15.3961L12.1675 14.7596C12.0592 14.721 11.9408 14.721 11.8325 14.7596L10.0424 15.3961C9.71136 15.5138 9.36537 15.2625 9.37502 14.9113L9.42727 13.0121C9.43043 12.8971 9.39386 12.7846 9.32372 12.6934L8.16515 11.1876C7.95091 10.9092 8.08307 10.5025 8.42003 10.4031L10.2424 9.86594C10.3527 9.83342 10.4485 9.76387 10.5135 9.669L11.5876 8.1018Z",
        fill: "currentColor"
    })),
    wl = t => d.createElement("svg", {
        width: 24,
        height: 24,
        viewBox: "0 0 24 24",
        fill: "none",
        xmlns: "http://www.w3.org/2000/svg",
        ...t
    }, d.createElement("path", {
        fillRule: "evenodd",
        clipRule: "evenodd",
        d: "M12 4C10.3431 4 9 5.34315 9 7C9 8.65685 10.3431 10 12 10C13.6569 10 15 8.65685 15 7C15 5.34315 13.6569 4 12 4ZM7 7C7 4.23858 9.23858 2 12 2C14.7614 2 17 4.23858 17 7C17 9.76142 14.7614 12 12 12C9.23858 12 7 9.76142 7 7ZM19.0277 15.6255C18.6859 15.5646 18.1941 15.6534 17.682 16.1829C17.4936 16.3777 17.2342 16.4877 16.9632 16.4877C16.6922 16.4877 16.4328 16.3777 16.2444 16.1829C15.7322 15.6534 15.2405 15.5646 14.8987 15.6255C14.5381 15.6897 14.2179 15.9384 14.0623 16.3275C13.8048 16.9713 13.9014 18.662 16.9632 20.4617C20.0249 18.662 20.1216 16.9713 19.864 16.3275C19.7084 15.9384 19.3882 15.6897 19.0277 15.6255ZM21.721 15.5847C22.5748 17.7191 21.2654 20.429 17.437 22.4892C17.1412 22.6484 16.7852 22.6484 16.4893 22.4892C12.6609 20.4291 11.3516 17.7191 12.2053 15.5847C12.6117 14.5689 13.4917 13.8446 14.5481 13.6565C15.3567 13.5125 16.2032 13.6915 16.9632 14.1924C17.7232 13.6915 18.5697 13.5125 19.3783 13.6565C20.4347 13.8446 21.3147 14.5689 21.721 15.5847ZM9.92597 14.2049C10.1345 14.7163 9.889 15.2999 9.3776 15.5084C7.06131 16.453 5.5 18.5813 5.5 20.9999C5.5 21.5522 5.05228 21.9999 4.5 21.9999C3.94772 21.9999 3.5 21.5522 3.5 20.9999C3.5 17.6777 5.641 14.8723 8.6224 13.6565C9.1338 13.448 9.71743 13.6935 9.92597 14.2049Z",
        fill: "currentColor"
    }));
let yt = 0;
const El = pe(re.CheckboxItem)
`flex flex-row justify-between h-10 mx-2 items-center`;

function Nl(t, s, a, n) {
    const i = {
        category: t.category,
        [a]: s
    };
    n(i)
}

function Al() {
    const s = xe().getQueryData([Ye]),
        [a, n] = d.useState(s),
        i = Pl(n);
    return Xn({
        onSuccess: r => {
            n(r)
        },
        alwaysRefetchOnMount: !0
    }), a ? e.jsx(e.Fragment, {
        children: e.jsx("div", {
            className: "flex flex-col flex-nowrap gap-2",
            children: a.map(r => e.jsx(w, {
                children: e.jsx(Ll, {
                    settings: r,
                    updateSettings: i.mutate
                })
            }, r.category))
        })
    }) : e.jsx("div", {
        className: "flex justify-center",
        children: e.jsx(Ne, {})
    })
}

function Ll({
    settings: t,
    updateSettings: s
}) {
    const a = b();
    return e.jsxs("div", {
        className: "flex items-center justify-between",
        children: [e.jsx("div", {
            children: e.jsx("span", {
                children: t.name
            })
        }), e.jsx("div", {
            children: e.jsxs(re.Root, {
                children: [e.jsxs(re.Trigger, {
                    children: [e.jsx("span", {
                        children: _l(t, a)
                    }), e.jsx(Zn, {
                        className: "icon-sm"
                    })]
                }), e.jsx(re.Portal, {
                    children: e.jsx(re.Content, {
                        size: "medium",
                        children: t.options.map((n, i) => e.jsx(El, {
                            checked: n.enabled,
                            onCheckedChange: r => Nl(t, r, n.channel, s),
                            children: e.jsx("p", {
                                children: n.name
                            })
                        }, i))
                    })
                })]
            })
        })]
    })
}

function _l(t, s) {
    const a = t.options.some(i => i.channel === "email" && i.enabled),
        n = t.options.some(i => i.channel === "push" && i.enabled);
    return n && a ? s.formatMessage(He.pushAndEmailEnabled) : n ? s.formatMessage(He.pushEnabled) : a ? s.formatMessage(He.emailEnabled) : s.formatMessage(He.notificationsOff)
}

function Pl(t) {
    const s = xe();
    return Ce({
        mutationFn: async a => (await Jn.updateSettings(a)).settings,
        onMutate: async a => {
            yt += 1;
            const n = yt;
            await s.cancelQueries({
                queryKey: Ye
            });
            const i = s.getQueryData(Ye);
            return t(r => {
                if (!r) return r;
                const {
                    category: l,
                    ...c
                } = a;
                return r.map(u => {
                    if (u.category !== l) return u;
                    const h = u.options.map(g => {
                        const m = c[g.channel];
                        return typeof m == "boolean" ? { ...g,
                            enabled: m
                        } : g
                    });
                    return { ...u,
                        options: h
                    }
                })
            }), {
                previousSettingsList: i,
                mutationId: n
            }
        },
        onError: (a, n, i) => {
            i ? .previousSettingsList && t(i.previousSettingsList)
        },
        onSuccess: (a, n, i) => {
            i ? .mutationId === yt && (s.setQueryData(Ye, a), t(a))
        }
    })
}
const He = W({
    pushEnabled: {
        id: "notificationSettings.pushEnabled",
        defaultMessage: "Push"
    },
    emailEnabled: {
        id: "notificationSettings.emailEnabled",
        defaultMessage: "Email"
    },
    pushAndEmailEnabled: {
        id: "notificationSettings.pushAndEmailEnabled",
        defaultMessage: "Push, Email"
    },
    notificationsOff: {
        id: "notificationSettings.notificationsOff",
        defaultMessage: "Off"
    }
});

function Tl() {
    const t = b();
    return e.jsx(ue, {
        value: I.Notifications,
        icon: e.jsx(eo, {
            className: "icon-sm"
        }),
        label: t.formatMessage({
            id: "settingsModal.notifications",
            defaultMessage: "Notifications"
        })
    })
}
const Dl = t => {
    const {
        data: s,
        isLoading: a,
        error: n
    } = ye({
        queryKey: ["cancellationPromotion"],
        queryFn: async () => Pe.safeGet("/promotions/cp", {}),
        enabled: t
    });
    return {
        cancellationPromoMetadata: d.useMemo(() => !s ? .metadata || s.metadata.plan_name !== sn.PLUS || s.metadata.duration ? .period !== "month" ? null : s.metadata, [s]),
        isCancelPromoLoading: a,
        promoError: n
    }
};

function Il({
    isOpen: t,
    onClose: s,
    currentAccount: a
}) {
    const n = b(),
        i = V(),
        {
            data: r
        } = to(),
        l = so(a ? .id),
        c = a ? .data.subscriptionStatus.planType,
        u = a ? .getLastActiveSubscription().subscription_id,
        h = st(c.toLowerCase()),
        g = xe(),
        {
            layer: m
        } = Bs("468168202"),
        p = a.isEligibleForCancellationPromotion(),
        {
            cancellationPromoMetadata: x,
            isCancelPromoLoading: A
        } = Dl(p),
        {
            numPeriods: v,
            formattedDiscountedCost: C
        } = d.useMemo(() => {
            const E = a.mustGetSubscriptionBillingCurrency("GlobalSettingsModal");
            if (!x) return {
                numPeriods: 0,
                formattedDiscountedCost: ""
            };
            const _ = x.duration ? .num_periods ? ? 1;
            return {
                numPeriods: _,
                ...li(n, _, x.discount, E)
            }
        }, [a, x, n]),
        S = async () => {
            if (!a || !u) throw new Error("Missing current account or subscription id");
            await l.mutateAsync(a.id, {
                onError: () => {
                    i.danger(n.formatMessage(ws.cancelFailure), {
                        duration: 5
                    }), y.logEventWithStatsig(j.cancelSubscriptionModalCancelFailed, "chatgpt_cancel_subscription_modal_cancel_failed")
                },
                onSuccess: async () => {
                    g.invalidateQueries({
                        queryKey: ["account-status"]
                    }), i.info(n.formatMessage(ws.cancelSuccess), {
                        duration: 5
                    }), y.logEventWithStatsig(j.cancelSubscriptionModalCancelSuccess, "chatgpt_cancel_subscription_modal_cancel_success"), m.get("should_open_cancellation_survey_after_canceling", !1) && window.open(`https://openai.qualtrics.com/jfe/form/SV_eW3mdeRdMrpnPLw?subscription_id=${u}`, "_blank"), setTimeout(() => {
                        s()
                    }, 5e3)
                }
            })
        };
    d.useEffect(() => {
        l.isSuccess && s()
    }, [l.isSuccess, s]), d.useEffect(() => {
        y.logEventWithStatsig(j.cancelSubscriptionModalShown, "chatgpt_cancel_subscription_modal_shown")
    });
    const k = r ? .active_until ? new Date(r.active_until).toLocaleDateString(n.locale, {
        year: "numeric",
        month: "short",
        day: "numeric"
    }) : "";
    return e.jsx(O, {
        type: "success",
        isOpen: t,
        onClose: s,
        size: "custom",
        noPadding: !0,
        className: "max-w-xl",
        showCloseButton: !0,
        title: x ? n.formatMessage({
            id: "cancelSubscriptionModal.promo.title",
            defaultMessage: "Are you sure you want to cancel?"
        }) : n.formatMessage({
            id: "cancelSubscriptionModal.title",
            defaultMessage: "Subscription Cancellation"
        }),
        removePopoverStyling: !0,
        children: A ? e.jsx("div", {
            className: "flex items-center justify-center p-6",
            children: e.jsx(Ne, {})
        }) : e.jsxs("div", {
            className: "p-5",
            children: [x ? e.jsxs(e.Fragment, {
                children: [e.jsx("p", {
                    className: "text-token-text-secondary",
                    children: x.summary
                }), e.jsxs("div", {
                    className: "mt-4 flex items-center justify-between rounded-xl border border-solid p-4",
                    children: [e.jsxs("div", {
                        children: [e.jsx("div", {
                            className: "flex items-center gap-2",
                            children: e.jsx("span", {
                                className: "text-base font-semibold text-token-text-primary",
                                children: x.title
                            })
                        }), e.jsx("p", {
                            className: "mt-1 text-base text-token-text-secondary",
                            children: e.jsx(o, {
                                id: "cancelPromoModal.regularPrice",
                                defaultMessage: "For {discountedFormattedCost}, you'll get {planName} for {numPeriods} months.",
                                values: {
                                    discountedFormattedCost: C,
                                    planName: h,
                                    numPeriods: v
                                }
                            })
                        })]
                    }), e.jsx("div", {
                        children: e.jsx(we, {
                            title: n.formatMessage({
                                id: "cancelPromoModal.promo.getOffer",
                                defaultMessage: "Get offer"
                            }),
                            color: "secondary",
                            onClick: s
                        })
                    })]
                }), e.jsx("p", {
                    className: "mt-8 text-token-text-secondary",
                    children: e.jsx(o, {
                        id: "cancelSubscriptionModal.promo.canceledSubscriptionBottom",
                        defaultMessage: "To cancel your subscription, just confirm your choice below. Your access to {planName} features will end on {expirationDate}.",
                        values: {
                            planName: h,
                            expirationDate: k
                        }
                    })
                })]
            }) : e.jsx("p", {
                className: "text-token-text-secondary",
                children: e.jsx(o, {
                    id: "cancelSubscriptionModal.canceledSubscription",
                    defaultMessage: "Your {planName} subscription will be canceled but will remain active until the end of your billing period on {expirationDate}.",
                    values: {
                        planName: h,
                        expirationDate: k
                    }
                })
            }), e.jsxs("div", {
                className: "mt-8 flex justify-end gap-2",
                children: [e.jsx(we, {
                    title: n.formatMessage({
                        id: "cancelSubscriptionModal.goBack",
                        defaultMessage: "Go back"
                    }),
                    color: m.get("cancellation_modal_go_back_button_color", "secondary"),
                    onClick: s
                }), e.jsx(we, {
                    title: n.formatMessage({
                        id: "cancelSubscriptionModal.cancel",
                        defaultMessage: "Cancel subscription"
                    }),
                    color: m.get("cancellation_modal_cancel_button_color", "danger"),
                    onClick: () => {
                        y.logEventWithStatsig(j.cancelSubscriptionModalConfirmationButtonClicked, "chatgpt_cancel_subscription_modal_confirmation_button_clicked"), S()
                    }
                })]
            })]
        })
    })
}
const ws = W({
    cancelSuccess: {
        id: "cancelSubscriptionModal.cancelSuccess",
        defaultMessage: "Your subscription has been canceled."
    },
    cancelFailure: {
        id: "cancelSubscriptionModal.cancelFailure",
        defaultMessage: "Something went wrong while canceling your subscription."
    }
});

function Ol({
    currentAccount: t
}) {
    const s = Te(),
        a = t.data.subscriptionStatus.planType,
        n = t.willRenewSubscription(),
        i = a === be.PLUS ? e.jsx(o, {
            id: "hLd2Ar",
            defaultMessage: "Upgrade plan"
        }) : a === be.PRO && n ? e.jsx(o, {
            id: "/4GuNx",
            defaultMessage: "Change plan"
        }) : e.jsx(o, {
            id: "4Bc5M+",
            defaultMessage: "View plans"
        }),
        r = () => {
            y.logEventWithStatsig(j.subscriptionSettingsChangePlanButtonClicked, "chatgpt_subscription_settings_change_plan_button_clicked"), Pt(s, "Subscription settings manage button")
        };
    return e.jsxs(re.Item, {
        className: "flex items-center pl-2 pr-0 font-normal",
        onClick: r,
        children: [e.jsx(go, {
            className: "h-5 w-5"
        }), i]
    })
}

function Bl({
    currentAccount: t,
    onCancelSubscriptionClick: s
}) {
    const a = t.willRenewSubscription(),
        n = t.willPlanChange(),
        {
            layer: i
        } = Bs("468168202"),
        r = b(),
        l = V();
    if (!a || n) return null;
    const c = i.get("should_cancel_button_take_user_to_stripe", !1);
    return e.jsxs(e.Fragment, {
        children: [e.jsx(re.Separator, {
            className: "px-1"
        }), e.jsxs(re.Item, {
            className: "flex items-center pl-2 pr-3 font-normal text-token-text-error",
            onClick: async () => {
                if (y.logEventWithStatsig(j.subscriptionSettingsCancelSubscriptionButtonClicked, "chatgpt_subscription_settings_cancel_subscription_button_clicked"), c) try {
                    const u = await R.fetchCustomerPortalUrl();
                    location.href = u.url
                } catch {
                    l.warning(r.formatMessage(ge.accountErrorWarning), {
                        hasCloseButton: !0
                    })
                } else s()
            },
            children: [e.jsx(an, {
                className: "h-5 w-5"
            }), e.jsx(o, {
                id: "icBiUI",
                defaultMessage: "Cancel Subscription"
            })]
        })]
    })
}

function Fl(t, s) {
    return t === be.FREE || t === be.PLUS && s === be.PRO
}

function Rl({
    currentAccount: t,
    onRenewSubscriptionClick: s
}) {
    const a = t.data.subscriptionStatus.planType,
        n = st(a.toLowerCase()),
        i = t.willRenewSubscription(),
        r = t.getNextPlanType();
    if (!(!i || r && Fl(r, a))) return null;
    const c = () => {
        y.logEventWithStatsig(j.subscriptionSettingsRenewPlanButtonClicked, "chatgpt_subscription_settings_renew_plan_button_clicked"), s()
    };
    return e.jsx(e.Fragment, {
        children: e.jsxs(re.Item, {
            className: "flex items-center pl-2 pr-3 font-normal text-token-text-primary",
            onClick: c,
            children: [e.jsx(mo, {
                className: "h-5 w-5"
            }), e.jsx(o, {
                id: "L6UCRY",
                defaultMessage: "Renew {planName} Plan",
                values: {
                    planName: n
                }
            })]
        })
    })
}

function Wl({
    currentAccount: t,
    onCancelSubscriptionClick: s,
    onRenewSubscriptionClick: a
}) {
    return e.jsxs(Fs, {
        triggerButton: e.jsxs(P, {
            onClick: () => {},
            color: "secondary",
            children: [e.jsx(o, {
                id: "g3k4Zt",
                defaultMessage: "Manage"
            }), e.jsx(lo, {
                className: "-mr-1 ml-1 h-4 w-4"
            })]
        }),
        contentAlign: "end",
        size: "auto",
        sideOffset: 2,
        contentClassName: "py-1",
        children: [e.jsx(Ol, {
            currentAccount: t
        }), e.jsx(Rl, {
            currentAccount: t,
            onRenewSubscriptionClick: a
        }), e.jsx(Bl, {
            currentAccount: t,
            onCancelSubscriptionClick: s
        })]
    })
}

function Ul({
    currentAccount: t
}) {
    const s = t.subscriptionAnalyticsParams,
        n = t.getLastActiveSubscription().purchase_origin_platform,
        i = V(),
        r = b(),
        l = async () => {
            y.logEvent(j.clickAccountCustomerPortal, s);
            try {
                const u = await R.fetchCustomerPortalUrl();
                y.logEvent(j.navigatingToAccountCustomerPortal, s), location.href = u.url
            } catch {
                i.warning(r.formatMessage(ge.accountErrorWarning), {
                    hasCloseButton: !0
                })
            }
        },
        c = (u, h) => e.jsx(Ie, {
            to: u,
            target: "_blank",
            className: "inline-block",
            children: e.jsx(P, {
                onClick: () => y.logEvent(h, s),
                color: "secondary",
                children: e.jsx(o, {
                    id: "eQL80k",
                    defaultMessage: "Manage"
                })
            })
        });
    switch (n) {
        case at.MOBILE_IOS:
            return c(co, j.clickAccountManageIos);
        case at.MOBILE_ANDROID:
            return c(ro, j.clickAccountManageAndroid);
        default:
            if (t.hasCustomerObject()) return e.jsx(P, {
                onClick: l,
                color: "secondary",
                children: e.jsx(o, {
                    id: "eQL80k",
                    defaultMessage: "Manage"
                })
            });
            break
    }
}

function Gl({
    currentAccount: t,
    onCancelSubscriptionClick: s,
    onRenewSubscriptionClick: a
}) {
    const n = b(),
        i = t.data.subscriptionStatus.planType,
        r = t.willRenewSubscription(),
        l = t.willPlanChange(),
        c = t.getDaysUntilPlanChanges(),
        u = t.getDaysUntilPlanExpires(),
        h = t.getNextPlanType(),
        g = S => {
            const k = uo(new Date, S);
            return new Intl.DateTimeFormat(n.locale, {
                year: "numeric",
                month: "short",
                day: "numeric"
            }).format(k)
        },
        m = st(i.toLowerCase()),
        p = h ? st(h.toLowerCase()) : null,
        {
            value: x
        } = Nt("1719651090"),
        {
            value: A
        } = $e("925172880"),
        {
            value: v
        } = $e("2735225651"),
        C = i === be.PRO ? ao({
            isOperatorEnabled: x,
            isGpt4_5Enabled: A
        }).advertisedFeatures : no({
            isGpt4_5Enabled_Plus: v
        }).advertisedFeatures;
    return d.useEffect(() => {
        y.logEventWithStatsig(j.subscriptionSettingsShown, "chatgpt_subscription_settings_shown")
    }, []), e.jsxs(e.Fragment, {
        children: [e.jsxs(w, {
            children: [e.jsxs("div", {
                className: "flex items-center justify-between",
                children: [e.jsxs("div", {
                    children: [e.jsx("div", {
                        className: "text-base font-bold",
                        children: e.jsx(o, { ...ge.subscriptionTitle,
                            values: {
                                planName: m
                            }
                        })
                    }), e.jsxs("div", {
                        className: "text-token-text-secondary",
                        children: [l && c && p && e.jsx("span", {
                            children: e.jsx(o, { ...ge.planChangeMessage,
                                values: {
                                    planName: p,
                                    date: g(c)
                                }
                            })
                        }), r && !l && u && e.jsx("span", {
                            children: e.jsx(o, { ...ge.renewMessage,
                                values: {
                                    date: g(u)
                                }
                            })
                        }), !r && !l && u && e.jsx("span", {
                            children: e.jsx(o, { ...ge.planCanceledMessage,
                                values: {
                                    date: g(u)
                                }
                            })
                        })]
                    })]
                }), e.jsx(Wl, {
                    currentAccount: t,
                    onCancelSubscriptionClick: s,
                    onRenewSubscriptionClick: a
                })]
            }), e.jsxs("div", {
                className: "mt-4 rounded-lg bg-gray-50 p-4 text-token-text-secondary dark:bg-gray-900",
                children: [e.jsx(o, { ...ge.thanksMessage,
                    values: {
                        planName: m
                    }
                }), C ? .map((S, k) => e.jsxs("div", {
                    className: "text-l mt-2 flex justify-start gap-2",
                    children: [e.jsx(oo, {
                        className: "mt-0.5 h-4 w-4 shrink-0 text-token-text-primary"
                    }), e.jsx("span", {
                        children: e.jsx(o, { ...S,
                            values: {
                                link: E => e.jsx(Ie, {
                                    className: "underline",
                                    target: "_blank",
                                    rel: "noreferrer",
                                    to: S.link ? ? "",
                                    children: E
                                }),
                                article: E => e.jsx(Ie, {
                                    className: "underline",
                                    target: "_blank",
                                    rel: "noreferrer",
                                    to: S.article ? ? "",
                                    children: E
                                }),
                                modelName: "GPT4o"
                            }
                        })
                    })]
                }, k))]
            })]
        }), e.jsx(w, {
            children: e.jsxs("div", {
                className: "flex flex-col gap-6",
                children: [e.jsxs("div", {
                    className: "flex items-center justify-between",
                    children: [e.jsx("div", {
                        className: "text-base",
                        children: e.jsx(o, { ...ge.managePaymentTitle,
                            values: {
                                planName: m
                            }
                        })
                    }), e.jsx(Ul, {
                        currentAccount: t
                    })]
                }), e.jsx(Ie, {
                    target: "_blank",
                    to: io,
                    onClick: ri,
                    className: "-mb-2 pt-3 text-sm text-token-link",
                    children: e.jsx(o, { ...ge.billingHelp
                    })
                }, "row-plus-plan-help-link")]
            })
        }), null]
    })
}
const ge = W({
    subscriptionTitle: {
        id: "settingsModal.subscriptionTitle",
        defaultMessage: "ChatGPT {planName}"
    },
    managePaymentTitle: {
        id: "settingsModal.managePaymentTitle",
        defaultMessage: "Payment"
    },
    billingHelp: {
        id: "settingsModal.billingHelp",
        defaultMessage: "Need help with billing?"
    },
    accountErrorWarning: {
        id: "settingsModal.accountErrorWarning",
        defaultMessage: "The account management page encountered an error. Please try again. If the problem continues, please visit help.openai.com."
    },
    planChangeMessage: {
        id: "settingsModal.planChangeMessage",
        defaultMessage: "Your plan changes to {planName} on {date}"
    },
    planCanceledMessage: {
        id: "settingsModal.planCanceledMessage",
        defaultMessage: "Your plan will be canceled on {date}"
    },
    renewMessage: {
        id: "settingsModal.renewMessage",
        defaultMessage: "Your plan auto-renews on {date}"
    },
    thanksMessage: {
        id: "settingsModal.thanksMessage",
        defaultMessage: "Thanks for subscribing to ChatGPT {planName}! Your {planName} plan includes:"
    },
    paymentMethodMessage: {
        id: "settingsModal.paymentMethodMessage",
        defaultMessage: "Payment method"
    }
});

function Vl() {
    return new URL(window.location.href).searchParams.get("disable_mfa") != null
}

function Hl({
    onClose: t,
    onConfirm: s
}) {
    const a = b();
    return e.jsx(Xs, {
        isOpen: !0,
        title: a.formatMessage(Es.disableConfimationTitle),
        confirmText: a.formatMessage(Es.disable),
        onConfirm: s,
        onClose: t,
        primaryButtonColor: "danger",
        children: e.jsx("div", {
            children: e.jsx(o, {
                id: "postSigninDisableConfimationModal.description.1",
                defaultMessage: "Are you sure you want to disable multi-factor authentication? You will no longer need to provide a verification code when you log into your account."
            })
        })
    })
}

function zl(t) {
    const s = t.map(a => Tt[a]).filter(a => a !== void 0);
    return s.length === 1 ? s[0] : e.jsx(o, {
        id: "confirmEnableMfaForByPassModal.otherAccount",
        defaultMessage: "another account"
    })
}

function Kl({
    mfaInfo: t,
    onEnableMFA: s,
    onCancel: a
}) {
    const n = b(),
        {
            session: i
        } = lt(),
        l = i ? .user ? .idp,
        c = (l ? Tt[l] : void 0) ? ? e.jsx(o, {
            id: "confirmEnableMfaForByPassModal.yourAccount",
            defaultMessage: "your current account"
        }),
        u = zl(t.otherProvidersWithoutMfa ? ? []);
    return e.jsx(Xs, {
        isOpen: !0,
        title: n.formatMessage({
            id: "confirmEnableMfaForByPassModal.title",
            defaultMessage: "Enable multi-factor authentication (MFA)"
        }),
        confirmText: n.formatMessage({
            id: "confirmEnableMfaForByPassModal.enableMfa",
            defaultMessage: "Enable MFA"
        }),
        onConfirm: s,
        onClose: a,
        primaryButtonColor: "primary",
        children: e.jsxs("div", {
            children: [e.jsx("p", {
                className: "mb-6",
                children: e.jsx(o, {
                    id: "confirmEnableMfaForByPassModal.description0",
                    defaultMessage: "You'll only be able to log in using {currentIdp} while MFA is on.",
                    values: {
                        currentIdp: c
                    }
                })
            }), e.jsx("p", {
                children: e.jsx(o, {
                    id: "confirmEnableMfaForByPassModal.description1",
                    defaultMessage: "If you prefer to have MFA enabled for your account when logging in with {otherNonMfaIdp}, please sign out and log in again through that method before enabling.",
                    values: {
                        otherNonMfaIdp: u
                    }
                })
            })]
        })
    })
}
const Es = W({
    disableConfimationTitle: {
        id: "mfaDisableConfirmationModal.title.0",
        defaultMessage: "Disable multi-factor authentication (MFA)"
    },
    disable: {
        id: "mfaDisableConfirmationModal.button",
        defaultMessage: "Disable MFA"
    }
});

function ga() {
    const [t, s] = nn(), a = b();
    return e.jsxs("div", {
        className: "flex items-center justify-between",
        children: [e.jsx("div", {
            children: e.jsx(o, { ...ze.theme
            })
        }), e.jsx(fo, {
            value: t,
            onValueChange: s,
            options: [{
                label: a.formatMessage(ze.system),
                value: "system"
            }, {
                label: a.formatMessage(ze.dark),
                value: "dark"
            }, {
                label: a.formatMessage(ze.light),
                value: "light"
            }]
        })]
    })
}
const ze = W({
    theme: {
        id: "settingsModal.theme",
        defaultMessage: "Theme"
    },
    system: {
        id: "settingsModal.system",
        defaultMessage: "System"
    },
    dark: {
        id: "settingsModal.dark",
        defaultMessage: "Dark"
    },
    light: {
        id: "settingsModal.light",
        defaultMessage: "Light"
    }
});
async function ql() {
    let t;
    "keyboard" in navigator && (t = navigator.keyboard);
    const s = await t ? .getLayoutMap() ? ? new Map;
    return t ? .lock && await t ? .lock(), new Promise(a => {
        const n = new Set,
            i = new Set;
        let r = !0;
        const l = p => {
                const x = Ns(p, s);
                x && !n.has(x) && (n.add(x), i.add(x))
            },
            c = p => {
                const x = Ns(p, s);
                x && n.delete(x), n.size === 0 && r && g()
            },
            u = p => {
                r && (h(), a(void 0))
            },
            h = () => {
                window.removeEventListener("keydown", l), window.removeEventListener("keyup", c), window.removeEventListener("mousedown", u), window.removeEventListener("click", u), window.removeEventListener("blur", u), clearTimeout(m), t ? .unlock && t ? .unlock(), r = !1
            },
            g = () => {
                h();
                const p = Yl(Array.from(i));
                a(ma({
                    webKeys: p
                }))
            };
        window.addEventListener("keydown", l), window.addEventListener("keyup", c), window.addEventListener("mousedown", u), window.addEventListener("click", u), window.addEventListener("blur", u);
        const m = setTimeout(() => {
            r && (h(), a(void 0))
        }, 1e4)
    })
}

function Yl(t) {
    return t.toSorted((s, a) => {
        const n = Object.values(nt).indexOf(s),
            i = n === -1 ? Number.MAX_SAFE_INTEGER : n,
            r = Object.values(nt).indexOf(a),
            l = r === -1 ? Number.MAX_SAFE_INTEGER : r;
        return i === l ? s.charCodeAt(0) - a.charCodeAt(0) : i - l
    })
}
const Ql = t => /^[a-zA-Z]$/.test(t);

function Ns(t, s) {
    const a = s.get(t.code) ? ? t.key;
    let n;
    return M[t.key] ? n = M[t.key] : Ql(a) ? n = a.toUpperCase() : n = a, n
}

function ma(t) {
    return t.webKeys ? (t.electronAcceleratorKeys = t.webKeys.map(Xl), t.electronAcceleratorString = As(t.electronAcceleratorKeys)) : t.electronAcceleratorKeys ? (t.webKeys = t.electronAcceleratorKeys.map($l), t.electronAcceleratorString = As(t.electronAcceleratorKeys)) : t = {
        webKeys: [],
        electronAcceleratorKeys: [],
        electronAcceleratorString: void 0
    }, t
}

function $l(t) {
    return nt[t] ? ? t
}

function Xl(t) {
    return Jl[t] ? ? t
}

function fa(t) {
    const s = new Set(Object.keys(ha)),
        a = t.filter(i => !s.has(i)).length,
        n = t.length - a;
    return a === 1 && n > 0
}
const Zl = t => {
        const s = t.split("+");
        return fa(s) ? s : void 0
    },
    As = t => fa(t) ? t.join("+") : void 0,
    ha = {
        Meta: M.Meta,
        CmdOrCtrl: M.Mod,
        CommandOrControl: M.Mod,
        Ctrl: M.Control,
        Control: M.Control,
        Cmd: M.Mod,
        Command: M.Mod,
        Alt: M.Alt,
        Option: M.Alt,
        AltGr: M.AltGraph,
        Shift: M.Shift,
        Super: M.Super
    },
    nt = { ...ha,
        Capslock: M.CapsLock,
        Space: M.Space,
        Tab: M.Tab,
        Numlock: M.NumLock,
        Scrolllock: M.ScrollLock,
        Backspace: M.Backspace,
        Delete: M.Delete,
        Insert: M.Insert,
        Return: M.Enter,
        Enter: M.Enter,
        Home: M.Home,
        End: M.End,
        PageUp: M.PageUp,
        PageDown: M.PageDown,
        Up: M.ArrowUp,
        Down: M.ArrowDown,
        Left: M.ArrowLeft,
        Right: M.ArrowRight,
        Esc: M.Escape,
        Escape: M.Escape,
        VolumeUp: M.AudioVolumeUp,
        VolumeDown: M.AudioVolumeDown,
        VolumeMute: M.AudioVolumeMute,
        MediaNextTrack: M.MediaTrackNext,
        MediaPreviousTrack: M.MediaTrackPrevious,
        MediaStop: M.MediaStop,
        MediaPlayPause: M.MediaPlayPause,
        PrintScreen: M.PrintScreen,
        numadd: M.Add,
        numsub: M.Subtract,
        nummult: M.Multiply,
        numdiv: M.Divide,
        numdec: M.Decimal,
        F1: M.F1,
        F2: M.F2,
        F3: M.F3,
        F4: M.F4,
        F5: M.F5,
        F6: M.F6,
        F7: M.F7,
        F8: M.F8,
        F9: M.F9,
        F10: M.F10,
        F11: M.F11,
        F12: M.F12,
        F13: M.F13,
        F14: M.F14,
        F15: M.F15,
        F16: M.F16,
        F17: M.F17,
        F18: M.F18,
        F19: M.F19,
        F20: M.F20
    },
    Jl = Object.fromEntries(Object.entries(nt).map(([t, s]) => [s, t]));

function er() {
    return e.jsxs(e.Fragment, {
        children: [e.jsx(sr, {}), e.jsx(nr, {}), e.jsx(or, {}), e.jsx(cr, {})]
    })
}
async function tr() {
    await Le ? .checkForUpdates()
}

function sr() {
    const [t, s] = d.useState(!1);
    return e.jsx(e.Fragment, {
        children: e.jsx(w, {
            children: e.jsx(Z, {
                label: e.jsx(o, { ...se.updatesSettingLabel
                }),
                disabled: t,
                buttonLabel: t ? e.jsx(o, { ...se.updateInProgressButtonLabel
                }) : e.jsx(o, { ...se.updateButtonLabel
                }),
                onClick: async () => {
                    try {
                        s(!0), await tr()
                    } catch (a) {
                        ke.addError(new Error("Sidetron Settings: Error checking for updates"), {
                            cause: a
                        })
                    } finally {
                        s(!1)
                    }
                },
                description: e.jsx(o, { ...se.updateSettingDescription,
                    values: {
                        version: on(navigator.userAgent) ? ? "Unknown"
                    }
                })
            })
        })
    })
}
const ar = async () => {
    let t = "";
    const s = await Le ? .getSettingValue("companionWindowShortcut");
    typeof s == "string" ? t = s : ke.addError(new Error("Sidetron Settings: No companion chat hotkey found over IPC"));
    const a = Zl(t);
    return Promise.resolve(ma({
        electronAcceleratorKeys: a
    }))
};

function nr() {
    const [t, s] = d.useState(!1), [a, n] = d.useState(void 0);
    return d.useEffect(() => {
        (async () => {
            const r = await ar();
            n(r)
        })()
    }, []), d.useEffect(() => {
        Le ? .publish(ls.HOTKEY_RECORDING_STATE, {
            inProgress: t
        })
    }, [t]), e.jsx(e.Fragment, {
        children: e.jsx(w, {
            children: e.jsx(Z, {
                label: e.jsx(o, { ...se.companionChatHotkeyLabel
                }),
                disabled: a === void 0 || t,
                buttonLabel: t ? e.jsx(o, { ...se.companionChatHotkeyRecordingLabel
                }) : a ? e.jsx(ir, {
                    keyboardBinding: a.webKeys
                }) : e.jsx(o, { ...se.companionChatHotkeyLoadingLabel
                }),
                onClick: async () => {
                    s(!0);
                    const i = await ql();
                    i ? i.electronAcceleratorString ? (n(i), Le && (Le.publish(ls.DESKTOP_SETTING_CHANGED, {
                        setting: "companionWindowShortcut",
                        value: i.electronAcceleratorString
                    }), ke.addAction(`Sidetron Settings: User recorded a new hotkey: ${i.electronAcceleratorString}`))) : ke.addError(new Error(`Sidetron Settings: Invalid companion chat hotkey registered: ${i}`)) : ke.addAction("Sidetron Settings: User did not record a hotkey"), s(!1)
                }
            })
        })
    })
}

function or() {
    return e.jsx(e.Fragment, {
        children: e.jsx(w, {
            children: e.jsx(ga, {})
        })
    })
}

function ir({
    keyboardBinding: t
}) {
    return e.jsx(e.Fragment, {
        children: hi(t).map((s, a) => e.jsxs("span", {
            className: "text-xs",
            children: [s, a < t.length - 1 && e.jsx(lr, {})]
        }, a))
    })
}

function lr() {
    return e.jsx("span", {
        className: "mx-1",
        children: e.jsx(o, { ...se.hotkeySeparator
        })
    })
}

function rr({
    href: t,
    label: s,
    stateLabel: a,
    testId: n
}) {
    return e.jsx("a", {
        className: "w-full",
        "data-testid": n,
        href: t,
        target: "_blank",
        rel: "noreferrer",
        children: e.jsxs("div", {
            className: "flex items-center justify-between",
            children: [e.jsx("div", {
                children: s
            }), e.jsxs("div", {
                className: "-mb-1 mr-3 flex items-center",
                children: [a && e.jsx("div", {
                    className: "-mt-0.5 me-2",
                    children: a
                }), e.jsx(Ks, {
                    className: "icon-sm"
                })]
            })]
        })
    })
}

function cr() {
    const [t, s] = d.useState(!1), a = b(), n = async () => {
        const i = await Le ? .getSettingValue("autoLaunch");
        s(!!i)
    };
    return d.useEffect(() => {
        n();
        const i = () => {
            n()
        };
        return window.addEventListener("focus", i), () => {
            window.removeEventListener("focus", i)
        }
    }, []), e.jsx(e.Fragment, {
        children: e.jsx(w, {
            children: e.jsx(rr, {
                href: "ms-settings:startupapps",
                label: e.jsx(o, { ...se.autoLaunchLabel
                }),
                stateLabel: t ? a.formatMessage(se.autoLaunchOnLabel) : a.formatMessage(se.autoLaunchOffLabel)
            })
        })
    })
}
const se = W({
    autoLaunchLabel: {
        id: "desktopAppSettingsModal.autoLaunchLabel",
        defaultMessage: "Launch at Login"
    },
    autoLaunchOnLabel: {
        id: "desktopAppSettingsModal.autoLaunchOnLabel",
        defaultMessage: "On"
    },
    autoLaunchOffLabel: {
        id: "desktopAppSettingsModal.autoLaunchOffLabel",
        defaultMessage: "Off"
    },
    updatesSettingLabel: {
        id: "desktopAppSettingsModal.updatesSettingLabel",
        defaultMessage: "App updates"
    },
    updateButtonLabel: {
        id: "desktopAppSettingsModal.updateButtonLabel",
        defaultMessage: "Check for updates"
    },
    updateInProgressButtonLabel: {
        id: "desktopAppSettingsModal.updateInProgressButtonLabel",
        defaultMessage: "Checking for updates..."
    },
    updateSettingDescription: {
        id: "desktopAppSettingsModal.updateSettingDescription",
        defaultMessage: "Current version: {version}"
    },
    companionChatHotkeyLabel: {
        id: "desktopAppSettingsModal.companionChatHotkeyLabel",
        defaultMessage: "Companion window hotkey"
    },
    companionChatHotkeyLoadingLabel: {
        id: "desktopAppSettingsModal.companionChatHotkeyLoadingLabel",
        defaultMessage: "Loading..."
    },
    companionChatHotkeyRecordingLabel: {
        id: "desktopAppSettingsModal.companionChatHotkeyRecordingLabel",
        defaultMessage: "Recording..."
    },
    hotkeySeparator: {
        id: "desktopAppSettingsModal.hotkeySeparator",
        defaultMessage: "+"
    }
});

function dr() {
    const s = Os() ? .includes(Rs);
    return ye({
        queryKey: ["mfaInfo"],
        queryFn: () => R.getMfaInfo(),
        enabled: s
    })
}
var G = (t => (t.DISABLED = "DISABLED", t.ENABLED = "ENABLED", t.LOADING = "LOADING", t))(G || {});

function ur() {
    const t = dr();
    let s;
    return t.isLoading ? s = "LOADING" : t.data ? .mfa_enabled ? s = "ENABLED" : s = "DISABLED", {
        status: s,
        otherProvidersWithoutMfa: t.data ? .other_providers_without_mfa,
        use_native_mfa: !!t.data ? .use_native_mfa,
        native_default_factor_id: t.data ? .native_default_factor_id,
        auth0_user_exists: !!t.data ? .auth0_user_exists
    }
}
const gr = new Set(["google-oauth2", "windowslive", "apple"]),
    mr = "Username-Password-Authentication",
    fr = 4 * 60;

function jt(t) {
    return t ? .idp && gr.has(t.idp) ? {
        connection: t.idp,
        ...t.email && {
            login_hint: t.email
        }
    } : t ? .idp === "auth0" ? {
        connection: mr,
        ...t.email ? {
            login_hint: t.email
        } : {
            [ho]: "true",
            [po]: "true"
        }
    } : t ? .email ? { ...t.email && {
            login_hint: t.email
        }
    } : {}
}

function Ls(t) {
    if (!t) throw new Error("No session found, cannot enable MFA");
    if (t.authProvider === "mocked") throw new Error("Mock users can't enable MFA! Please setup Auth0 following the instructions in the README")
}

function _s(t) {
    try {
        return xo(t)
    } catch {
        throw new Error("Unable to decode access token")
    }
}

function hr(t) {
    return t.pwd_auth_time
}

function Ps(t) {
    const s = hr(t);
    if (!s) return !0;
    const a = s / 1e3;
    return Date.now() / 1e3 - a > fr
}

function pr(t) {
    return t[ln] ? .required === "yes"
}

function xr(t) {
    return t === Me.OpenAI ? Me.LoginWebAuth0 : t === Me.OpenAIDev ? Me.LoginWebAuth0Dev : t === Me.OpenAISidetron ? Me.Auth0Sidetron : t === Me.OpenAISidetronDev ? Me.Auth0SidetronDev : t
}

function Mr(t) {
    const {
        session: s
    } = lt(), a = Te(), n = s ? .user ? .idp === "auth0", i = !!s ? .user ? .mfa, r = s ? .authProvider ? xr(s ? .authProvider) : void 0, {
        useNativeProvider: l,
        auth0UserExists: c
    } = t, u = d.useCallback(async () => {
        Ls(s);
        const g = new URL("/auth/enroll_mfa", window.location.origin).toString();
        let m = !0;
        if (s ? .accessToken) {
            const p = _s(s.accessToken);
            m = Ps(p) || !c
        }
        if (m) {
            ht.signIn(r, {
                callbackUrl: g
            }, {
                max_age: "0",
                ...pt(ft()),
                ...jt(s ? .user)
            });
            return
        }
        window.location.href = g
    }, [s, c, r]), h = d.useCallback(async () => {
        Ls(s);
        const g = new URL("/auth/disable_mfa", window.location.origin).toString();
        let m = !0;
        if (s ? .accessToken) {
            const p = _s(s.accessToken);
            m = Ps(p) || !pr(p)
        }
        if (l && m) {
            ht.signIn(s ? .authProvider, {
                callbackUrl: g
            }, {
                max_age: "0",
                ...jt(s ? .user),
                ...pt(ft())
            });
            return
        }
        if (l) {
            a("/?disable_mfa=true#settings/Security");
            return
        }
        ht.signIn(s ? .authProvider, {
            callbackUrl: g
        }, { ...jt(s ? .user),
            max_age: "0",
            ...pt(ft())
        })
    }, [s, a, l]);
    return {
        setupMfa: u,
        isUsernamePassword: n,
        isLoggedInWithMfa: i,
        removeMfa: h
    }
}
const br = t => d.createElement("svg", {
        width: 24,
        height: 24,
        viewBox: "0 0 24 24",
        fill: "none",
        xmlns: "http://www.w3.org/2000/svg",
        ...t
    }, d.createElement("path", {
        fillRule: "evenodd",
        clipRule: "evenodd",
        d: "M2 7C2 5.34315 3.34315 4 5 4H19C20.6569 4 22 5.34315 22 7V17C22 18.6569 20.6569 20 19 20H5C3.34315 20 2 18.6569 2 17V7ZM4.26834 6.31832L11.4233 11.3689C11.769 11.6129 12.231 11.6129 12.5767 11.3689L19.7317 6.31832C19.5491 6.12247 19.2889 6 19 6H5C4.71114 6 4.45089 6.12247 4.26834 6.31832ZM20 8.57698L13.7301 13.0028C12.6929 13.735 11.3071 13.735 10.2699 13.0028L4 8.57698V17C4 17.5523 4.44772 18 5 18H19C19.5523 18 20 17.5523 20 17V8.57698Z",
        fill: "currentColor"
    })),
    Cr = () => {
        const {
            openSettings: t
        } = We();
        return e.jsx("button", {
            onClick: () => t(I.BuilderProfile),
            children: e.jsx(Zs, {
                className: "icon-sm"
            })
        })
    };

function yr({
    gizmoId: t,
    gizmoName: s,
    gizmoAvatar: a,
    canEdit: n,
    socials: i
}) {
    const {
        data: r,
        isLoading: l
    } = Dt();
    return l ? null : r ? e.jsxs(e.Fragment, {
        children: [n && t && e.jsx("span", {
            className: "absolute right-2 top-2",
            children: e.jsx(Cr, {})
        }), e.jsx(pi, {
            src: a,
            isFirstParty: !1,
            className: "h-8 w-8"
        }), e.jsx("div", {
            className: "mt-1 text-center text-sm font-semibold text-token-text-primary",
            children: s
        }), e.jsx(Mo, {
            builderName: r.display_name,
            builderUrl: r.website_url,
            socials: i,
            className: "text-xs"
        })]
    }) : e.jsx(ct, {
        type: "info",
        children: e.jsx(o, {
            id: "gizmo.builderProfile.unableToLoadProfile",
            defaultMessage: "Unable to load your builder profile"
        })
    })
}

function jr() {
    const {
        data: t,
        isLoading: s
    } = Dt(), a = ce();
    return s ? e.jsx("div", {
        className: "flex justify-center",
        children: e.jsx(Ne, {})
    }) : t === void 0 || a == null ? e.jsx(ct, {
        type: "info",
        children: e.jsx(o, { ...U.noCreatorProfile
        })
    }) : e.jsx(kr, {
        data: t
    })
}

function vr({
    gizmoName: t,
    canEdit: s,
    gizmoAvatar: a
}) {
    const n = b(),
        {
            openSettings: i
        } = We(),
        {
            data: r
        } = Dt();
    return r ? e.jsxs("div", {
        className: "relative flex w-full flex-col items-center justify-stretch rounded-lg bg-token-main-surface-primary p-4",
        children: [e.jsx(yr, {
            gizmoAvatar: a,
            gizmoName: t ? ? n.formatMessage(U.placeholderGPT),
            canEdit: s,
            socials: [r.socials.linkedin, r.socials.github, r.socials.twitter]
        }), e.jsx("div", {
            className: "absolute right-4 top-3 text-xs text-token-text-tertiary",
            children: s ? e.jsx("button", {
                onClick: () => {
                    i(I.BuilderProfile)
                },
                children: e.jsx(Zs, {
                    className: "icon-sm"
                })
            }) : e.jsx(o, { ...U.preview
            })
        })]
    }) : null
}

function Sr(t, s) {
    if (t.website_url && s.length > 0) {
        const a = s.find(n => n.url === t.website_url);
        return a ? a.hostname : s[0].hostname
    } else {
        if (s.length > 0) return s[0].hostname;
        if (t.website_url) return
    }
}

function kr({
    data: t
}) {
    const s = b(),
        a = bo(),
        n = ce() ? .isEnterprisey(),
        i = ce() ? .isWorkspaceAccount(),
        r = rt(),
        l = t.domains.reduce((m, p) => p.status === "verified" ? [...m, {
            id: p.id,
            hostname: p.hostname,
            url: p.hostname
        }] : m, []),
        c = Sr(t, l),
        {
            value: u
        } = Nt("2256850471"),
        h = t.name == null || a.isPending,
        g = e.jsx(vt, {
            size: "small",
            onChange: m => {
                a.mutateAsync({
                    hideName: !m
                })
            },
            disabled: h,
            enabled: !t.hide_name,
            label: t.hide_name ? s.formatMessage(U.showNameToggle) : s.formatMessage(U.hideNameToggle)
        });
    return e.jsxs("div", {
        className: "flex flex-col items-stretch",
        children: [e.jsx("div", {
            className: "mb-2",
            children: e.jsx(o, { ...U.creatorProfileDescription
            })
        }), e.jsx(vr, {
            canEdit: !1
        }), e.jsx(w, {
            children: e.jsxs("div", {
                className: "flex flex-col",
                children: [!t.is_verified && e.jsxs(ct, {
                    type: "info",
                    children: [e.jsx("div", {
                        children: e.jsx(o, { ...U.creatorProfileUnverifiedDisclaimer
                        })
                    }), e.jsx("div", {
                        children: i ? e.jsx(o, { ...U.creatorProfileBusinessUnverifiedDisclaimer
                        }) : e.jsx(o, { ...U.creatorProfilePersonalUnverifiedDisclaimer
                        })
                    })]
                }), t.name && e.jsxs("div", {
                    className: "mt-4 flex flex-col gap-2",
                    children: [e.jsxs("div", {
                        className: "flex flex-row justify-between",
                        children: [e.jsx("b", {
                            children: e.jsx(o, { ...U.creatorProfileNameLabel
                            })
                        }), h ? e.jsx(Ee, {
                            side: "left",
                            label: s.formatMessage(U.linkDisabledTooltip),
                            children: g
                        }) : g]
                    }), e.jsxs("div", {
                        className: "flex flex-row items-center space-x-2",
                        children: [e.jsx("span", {
                            children: t.name
                        }), e.jsx(Ee, {
                            side: "top",
                            className: "ml-auto",
                            label: s.formatMessage(U.nameSourceReason),
                            children: e.jsx(zs, {
                                className: "icon-sm text-token-text-tertiary"
                            })
                        })]
                    })]
                }), !n && e.jsxs("div", {
                    className: "flex flex-col justify-center gap-2",
                    children: [e.jsx("hr", {
                        className: "my-3 border-token-border-light"
                    }), e.jsx("div", {
                        className: "flex flex-row justify-between",
                        children: e.jsx("b", {
                            children: e.jsx(o, { ...U.creatorProfileLinkHeader
                            })
                        })
                    }), e.jsxs("div", {
                        className: "flex flex-row items-center justify-between space-x-2",
                        children: [e.jsx(Co, {
                            className: "icon-sm"
                        }), e.jsx("div", {
                            children: e.jsx(yo, {
                                selectedDomain: c,
                                domains: t.domains,
                                verifiedDomains: l,
                                onChangeDomain: m => {
                                    a.mutateAsync({
                                        websiteUrl: m
                                    })
                                }
                            })
                        })]
                    }), u && e.jsxs(e.Fragment, {
                        children: [e.jsx(xt, {
                            socialData: t.socials.linkedin,
                            icon: jo
                        }), e.jsx(xt, {
                            socialData: t.socials.github,
                            icon: vo
                        }), e.jsx(xt, {
                            socialData: t.socials.twitter,
                            icon: So
                        })]
                    })]
                }), !n && r && r.email && e.jsxs("div", {
                    className: "flex flex-col justify-center gap-2",
                    children: [e.jsx("hr", {
                        className: "my-3 border-token-border-light"
                    }), e.jsx("div", {
                        className: "flex flex-row justify-between",
                        children: e.jsx("b", {
                            children: e.jsx(o, { ...U.creatorProfileEmailHeader
                            })
                        })
                    }), e.jsxs("div", {
                        className: "my-1 flex flex-row items-center space-x-2",
                        children: [e.jsx(br, {
                            className: "icon-sm"
                        }), e.jsx("span", {
                            children: r.email
                        })]
                    }), e.jsx(Ee, {
                        label: s.formatMessage(U.feedbackEmailTooltip),
                        children: e.jsx(ko, {
                            className: "rounded-xl",
                            id: "receive-support-emails",
                            onChange: m => {
                                a.mutateAsync({
                                    willReceiveSupportEmails: m.currentTarget.checked
                                })
                            },
                            checked: t.will_receive_support_emails,
                            label: s.formatMessage(U.receiveFeedbackEmails)
                        })
                    })]
                })]
            })
        })]
    })
}
const U = W({
    gizmoTab: {
        id: "settingsModal.gizmoTab",
        defaultMessage: "Builder profile"
    },
    creatorProfileDescription: {
        id: "settingsModal.creatorProfileDescription",
        defaultMessage: "Personalize your builder profile to connect with users of your GPTs. These settings apply to publicly shared GPTs."
    },
    creatorProfileUnverifiedDisclaimer: {
        id: "settingsModal.createrProfileUnverifiedDisclaimer",
        defaultMessage: "Complete verification to publish GPTs to everyone."
    },
    creatorProfilePersonalUnverifiedDisclaimer: {
        id: "settingsModal.creatorProfilePersonalUnverifiedDisclaimer",
        defaultMessage: "Verify your identity by adding billing details or verifying ownership of a public domain name."
    },
    creatorProfileBusinessUnverifiedDisclaimer: {
        id: "settingsModal.creatorProfileBusinessUnverifiedDisclaimer",
        defaultMessage: "Contact your workspace administrator to set up a builder profile"
    },
    creatorProfileNameLabel: {
        id: "settingsModal.creatorProfileNameLabel",
        defaultMessage: "Name"
    },
    placeholderGPT: {
        id: "settingsModal.placeholderGPT",
        defaultMessage: "PlaceholderGPT"
    },
    byName: {
        id: "settingsModal.byName",
        defaultMessage: "by {name}"
    },
    preview: {
        id: "settingsModal.preview",
        defaultMessage: "Preview"
    },
    noCreatorProfile: {
        id: "settingsModal.noCreatorProfile",
        defaultMessage: "Unable to retrieve builder profile"
    },
    creatorProfileLinkHeader: {
        id: "settingsModal.creatorProfileLinkHeader.1",
        defaultMessage: "Links"
    },
    creatorProfileEmailHeader: {
        id: "settingsModal.creatorProfileEmailHeader.0",
        defaultMessage: "Email"
    },
    nameDisabledTooltip: {
        id: "settingsModal.nameDisabledTooltip",
        defaultMessage: "You must have a verified name to enable displaying a name"
    },
    linkDisabledTooltip: {
        id: "settingsModal.linkDisabledTooltip",
        defaultMessage: "You must have a verified domain to enable displaying a link"
    },
    addDomain: {
        id: "settingsModal.addDomain",
        defaultMessage: "Verify new domain"
    },
    nameSourceReason: {
        id: "settingsModal.nameSourceReason",
        defaultMessage: "Name is populated from your billing details"
    },
    hideNameToggle: {
        id: "settingsModal.hideNameToggle",
        defaultMessage: "Hide your name in your builder profile"
    },
    showNameToggle: {
        id: "settingsModal.showNameToggle",
        defaultMessage: "Show your name in your builder profile"
    },
    hideWebsiteToggle: {
        id: "settingsModal.hideWebsiteToggle",
        defaultMessage: "Hide your website in your builder profile"
    },
    showWebsiteToggle: {
        id: "settingsModal.showWebsiteToggle",
        defaultMessage: "Show your website in your builder profile"
    },
    feedbackEmailTooltip: {
        id: "settingsModal.feedbackEmailTooltip",
        defaultMessage: "Allow users of your GPTs to send feedback to your ChatGPT login email. Your email will never be shared publicly."
    },
    receiveFeedbackEmails: {
        id: "settingsModal.receiveFeedbackEmails.1",
        defaultMessage: "Receive feedback emails"
    }
});

function wr() {
    return e.jsx(o, { ...U.gizmoTab
    })
}
const pa = ["archivedConversations"],
    Er = 30,
    Nr = 3;

function Ar({
    conversation: t,
    elementRef: s,
    closeParentModal: a
}) {
    const n = b(),
        i = V(),
        r = xe(),
        {
            mutate: l,
            isPending: c
        } = Ce({
            mutationFn: async ({
                conversationId: m,
                ...p
            }) => R.patchConversation(m, p),
            onSettled: () => {
                r.invalidateQueries({
                    queryKey: [pa]
                }), kt(r, t.gizmo_id)
            },
            onError: () => {
                i.danger(n.formatMessage(J.deleteFailed))
            }
        }),
        [u, h] = d.useState(!1),
        g = `/c/${t.id}`;
    return e.jsxs(e.Fragment, {
        children: [e.jsxs(L.Row, {
            disabled: c,
            children: [e.jsx(L.Cell, {
                children: e.jsxs("a", {
                    href: g,
                    rel: "noreferrer",
                    className: "inline-flex items-center gap-2 align-top text-blue-500 dark:text-blue-400",
                    ref: s,
                    children: [e.jsx(Js, {
                        className: "icon-md flex-shrink-0"
                    }), t.title]
                })
            }), e.jsx(L.Cell, {
                children: t.create_time != null ? e.jsx(it, {
                    value: t.create_time,
                    month: "long",
                    year: "numeric",
                    day: "numeric"
                }) : null
            }), e.jsx(L.Cell, {
                textAlign: "right",
                children: e.jsxs(L.Actions, {
                    children: [e.jsx(Ee, {
                        label: n.formatMessage(J.unarchiveConversation),
                        sideOffset: 4,
                        side: "top",
                        children: e.jsx("button", {
                            "aria-label": n.formatMessage(J.unarchiveConversation),
                            className: "cursor-pointer text-[18px] text-token-text-tertiary hover:text-token-text-secondary",
                            onClick: () => {
                                l({
                                    conversationId: t.id,
                                    is_archived: !1
                                })
                            },
                            children: e.jsx(wo, {
                                className: "icon-sm"
                            })
                        })
                    }), e.jsx(Ee, {
                        label: n.formatMessage(J.deleteConversation),
                        sideOffset: 4,
                        side: "top",
                        children: e.jsx("button", {
                            onClick: () => h(!0),
                            "aria-label": n.formatMessage(J.deleteConversation),
                            className: "text-token-text-tertiary hover:text-token-text-secondary",
                            children: e.jsx(ea, {
                                className: "icon-sm"
                            })
                        })
                    })]
                })
            })]
        }), u && e.jsx(Eo, {
            title: t.title,
            handleDelete: () => {
                l({
                    conversationId: t.id,
                    is_visible: !1
                })
            },
            onClose: m => {
                h(!1), m ? .closeParentModal && a()
            }
        })]
    })
}

function Lr({
    onClose: t
}) {
    const {
        data: s,
        isLoading: a,
        isError: n,
        refetch: i,
        fetchNextPage: r,
        hasNextPage: l
    } = xn({
        queryKey: [pa],
        queryFn: ({
            pageParam: p
        }) => R.getConversations({
            offset: p,
            limit: Er,
            isArchived: !0
        }),
        initialPageParam: 0,
        getNextPageParam: p => {
            const x = p.offset + p.limit;
            return x < p.total ? x : void 0
        },
        refetchOnMount: "always"
    }), c = d.useRef(null), u = d.useCallback(p => {
        a || p == null || (c.current ? .disconnect(), c.current = new IntersectionObserver(x => {
            x[0].isIntersecting && l && r()
        }), c.current.observe(p))
    }, [a, l, r]);
    d.useEffect(() => () => {
        c.current ? .disconnect()
    }, []);
    const h = d.useMemo(() => s ? .pages.flatMap(p => p.items) ? ? [], [s]),
        g = b();
    let m;
    return a ? m = e.jsx("div", {
        className: "pb-8 text-token-text-secondary",
        children: e.jsx(o, { ...J.loading
        })
    }) : n ? m = e.jsxs("div", {
        children: [e.jsx("div", {
            className: "mb-4 text-red-500",
            children: e.jsx(o, { ...J.somethingWentWrong
            })
        }), e.jsx("div", {
            children: e.jsx(P, {
                color: "secondary",
                onClick: () => {
                    i()
                },
                children: e.jsx(o, { ...J.retry
                })
            })
        })]
    }) : h.length === 0 ? m = e.jsx("div", {
        className: "pb-8 text-token-text-tertiary",
        children: e.jsx(o, { ...J.noArchivedConversations
        })
    }) : m = e.jsxs(L.Root, {
        className: "max-h-[28rem]",
        size: "compact",
        children: [e.jsxs(L.Header, {
            children: [e.jsx(L.HeaderCell, {
                children: e.jsx(o, { ...J.name
                })
            }), e.jsx(L.HeaderCell, {
                children: e.jsx(o, { ...J.dateCreated
                })
            }), e.jsx(L.HeaderCell, {})]
        }), e.jsx(L.Body, {
            children: h.map((p, x) => e.jsx(Ar, {
                conversation: p,
                elementRef: x === h.length - Nr ? u : void 0,
                closeParentModal: t
            }, p.id))
        })]
    }), e.jsx(O, {
        isOpen: !0,
        onClose: t,
        size: "custom",
        className: "max-w-5xl",
        type: "success",
        title: g.formatMessage(J.title),
        showCloseButton: !0,
        children: m
    })
}
const J = W({
    name: {
        id: "archivedConversationsModal.name",
        defaultMessage: "Name"
    },
    dateCreated: {
        id: "archivedConversationsModal.dateCreated",
        defaultMessage: "Date created"
    },
    loading: {
        id: "archivedConversationsModal.loading",
        defaultMessage: "Loading..."
    },
    somethingWentWrong: {
        id: "archivedConversationsModal.somethingWentWrong",
        defaultMessage: "Something went wrong..."
    },
    retry: {
        id: "archivedConversationsModal.retry",
        defaultMessage: "Retry"
    },
    noArchivedConversations: {
        id: "archivedConversationsModal.noArchivedConversations",
        defaultMessage: "You have no archived conversations."
    },
    title: {
        id: "archivedConversationsModal.title",
        defaultMessage: "Archived Chats"
    },
    unarchiveConversation: {
        id: "archivedConversationsModal.unarchiveConversation",
        defaultMessage: "Unarchive conversation"
    },
    deleteConversation: {
        id: "archivedConversationsModal.deleteConversation",
        defaultMessage: "Delete conversation"
    },
    deleteFailed: {
        id: "archivedConversationsModal.deleteFailed",
        defaultMessage: "Deleting failed"
    }
});

function Ke({
    children: t
}) {
    return e.jsxs("li", {
        children: ["", t, ""]
    })
}

function _r({
    label: t,
    enabled: s,
    onChange: a,
    description: n,
    disabled: i = !1,
    compactDescription: r,
    centerToggleVertically: l,
    showAlphaPill: c
}) {
    return e.jsx("div", {
        className: "rounded-xl bg-[#F9F9F9] px-4 py-3 dark:bg-token-main-surface-secondary",
        children: e.jsx(me, {
            label: t,
            enabled: s,
            onChange: a,
            disabled: i,
            description: n,
            compactDescription: r,
            centerToggleVertically: l,
            showAlphaPill: c
        })
    })
}

function Pr() {
    const [t, s] = d.useState(!1);
    d.useState(!1);
    const a = Te(),
        n = b(),
        i = No(),
        {
            isLoading: r,
            data: l
        } = xi(!0),
        c = At(),
        {
            data: u
        } = Ao(void 0, !1, i),
        h = bi(u ? .memoryFullPct),
        g = Lo(),
        m = _o(),
        p = Po(),
        x = To(),
        A = Do(),
        v = Io();
    return r ? e.jsx("div", {
        className: "flex justify-center",
        children: e.jsx(Ne, {})
    }) : e.jsxs(e.Fragment, {
        children: [e.jsx(w, {
            children: e.jsx(ta, {
                label: e.jsx(o, { ...te.customInstructions
                }),
                stateLabel: l ? .enabled ? n.formatMessage(te.on) : n.formatMessage(te.off),
                onClick: () => {
                    y.logEventWithStatsig(j.userContextCustomInstructionsModalOpened, "chatgpt_user_context_custom_instructions_modal_opened", {
                        location: "personalization_settings"
                    }), K.openModal(Q.UserContext)
                }
            })
        }), e.jsxs(w, {
            children: [e.jsx(me, {
                label: n.formatMessage(te.toggleLabel),
                enabled: i,
                onChange: C => {
                    c.mutate({
                        setting: ee.Sunshine,
                        value: C
                    }, {
                        onSuccess: () => {
                            !C && i && A && v && c.mutate({
                                setting: ee.Moonshine,
                                value: !1
                            })
                        }
                    })
                },
                description: e.jsxs(e.Fragment, {
                    children: [e.jsx("p", {
                        children: e.jsx(o, { ...te.exampleDescription1,
                            values: {
                                link: C => e.jsx("a", {
                                    href: "https://help.openai.com/en/articles/8590148-memory-in-chatgpt-faq",
                                    target: "_blank",
                                    className: "underline",
                                    rel: "noreferrer",
                                    children: C
                                })
                            }
                        })
                    }), e.jsx("p", {
                        className: "mt-3",
                        children: e.jsx(o, { ...te.exampleDescription2
                        })
                    }), e.jsxs("ul", {
                        className: "my-2 flex list-disc flex-col gap-1 pl-5",
                        children: [e.jsx(Ke, {
                            children: e.jsx(o, { ...te.exampleMessage1
                            })
                        }), e.jsx(Ke, {
                            children: e.jsx(o, { ...te.exampleMessage2
                            })
                        }), e.jsx(Ke, {
                            children: e.jsx(o, { ...te.exampleMessage3
                            })
                        }), e.jsx(Ke, {
                            children: e.jsx(o, { ...te.exampleMessage4
                            })
                        })]
                    })]
                })
            }), e.jsx("div", {
                className: "mt-6",
                children: e.jsx(Ci, {
                    memoryFullPct: u ? .memoryFullPct,
                    showInfoLabel: !0
                })
            }), e.jsxs("div", {
                className: "mt-4 flex items-center gap-2",
                children: [e.jsx(P, {
                    onClick: () => {
                        s(!0), y.logEvent(j.memorySettingsManageClicked)
                    },
                    color: "secondary",
                    "data-testid": "manage-memories-btn",
                    children: e.jsx(o, { ...te.manageMemoriesButton
                    })
                }), !1, h && g && e.jsxs(e.Fragment, {
                    children: [(y.logEventWithStatsig(j.memoryFullWarningUpsellShown, "chatgpt_memory_full_warning_upsell_shown_settings"), null), e.jsx(P, {
                        onClick: () => {
                            y.logEventWithStatsig(j.memoryFullWarningUpsellClicked, "chatgpt_memory_full_warning_upsell_clicked_settings"), Pt(a, "MemoryUsageWarning Settings Upsell")
                        },
                        color: "secondary",
                        children: e.jsx(o, {
                            id: "MemoryUsageWarningLarge.upgradeButton",
                            defaultMessage: "Get more space"
                        })
                    })]
                }), t && e.jsx(yi, {
                    onClose: () => s(!1)
                }), !1]
            }), e.jsx("div", {
                className: "mb-4 mt-7 items-center gap-2",
                children: i && A && e.jsx(_r, {
                    label: n.formatMessage({
                        id: "FpCNAw",
                        defaultMessage: "Improved memory"
                    }),
                    enabled: v,
                    onChange: C => {
                        c.mutate({
                            setting: ee.Moonshine,
                            value: C
                        })
                    },
                    disabled: !A,
                    description: e.jsx("div", {
                        className: "mb-2",
                        children: e.jsx(o, {
                            id: "Cu8moS",
                            defaultMessage: "Let ChatGPT reference past chats, not just saved memories. <link>Learn more</link>",
                            values: {
                                link: C => e.jsx("a", {
                                    href: "https://help.openai.com/en/articles/10303002-how-does-memory-use-past-conversations",
                                    target: "_blank",
                                    className: "underline",
                                    rel: "noreferrer",
                                    children: C
                                })
                            }
                        })
                    }),
                    compactDescription: !0,
                    centerToggleVertically: !0,
                    showAlphaPill: !0
                })
            })]
        }), x && e.jsx(w, {
            children: e.jsx(me, {
                label: n.formatMessage({
                    id: "APWP2z",
                    defaultMessage: "Enable memory in search"
                }),
                enabled: m,
                onChange: C => {
                    c.mutate({
                        setting: ee.MemoryInSearch,
                        value: C
                    })
                },
                disabled: !p,
                description: e.jsx(o, {
                    id: "nQ+QoN",
                    defaultMessage: "To be more helpful in getting you more relevant responses, ChatGPT may share disassociated search queries based on past memories with third-party search providers. <link>Learn more</link>",
                    values: {
                        link: C => e.jsx("a", {
                            href: "https://help.openai.com/en/articles/9237897-chatgpt-search",
                            target: "_blank",
                            className: "underline",
                            rel: "noreferrer",
                            children: C
                        })
                    }
                })
            })
        })]
    })
}
const te = W({
        toggleLabel: {
            id: "settingsModal.myChagtGptToggleLabel.2",
            defaultMessage: "Memory"
        },
        exampleDescription1: {
            id: "settingsModal.exampleDescription1.1",
            defaultMessage: "ChatGPT will become more helpful as you chat, picking up on details and preferences to tailor its responses to you. <link>Learn more</link>"
        },
        exampleDescription2: {
            id: "settingsModal.exampleDescription2.2",
            defaultMessage: "To understand what ChatGPT remembers or teach it something new, just chat with it:"
        },
        exampleMessage1: {
            id: "settingsModal.exampleMessage1.1",
            defaultMessage: "Remember that I like concise responses."
        },
        exampleMessage2: {
            id: "settingsModal.exampleMessage2.1",
            defaultMessage: "I just got a puppy!"
        },
        exampleMessage3: {
            id: "settingsModal.exampleMessage3.2",
            defaultMessage: "What do you remember about me?"
        },
        exampleMessage4: {
            id: "settingsModal.exampleMessage4",
            defaultMessage: "Where did we leave off on my last project?"
        },
        reset: {
            id: "settingsModal.reset",
            defaultMessage: "Reset memories"
        },
        resetModalTitle: {
            id: "settingsModal.resetModalTitle",
            defaultMessage: "Are you sure?"
        },
        resetModalDescription: {
            id: "settingsModal.resetModalDescription",
            defaultMessage: "Your GPT will forget what it has learned from your previous chats. This can't be undone."
        },
        resetModalConfirm: {
            id: "settingsModal.resetModalConfirm",
            defaultMessage: "Confirm reset"
        },
        resetModalCancel: {
            id: "settingsModal.resetModalCancel",
            defaultMessage: "Cancel"
        },
        resetSuccessful: {
            id: "settingsModal.resetSuccessful",
            defaultMessage: "Your GPT's memory has been reset."
        },
        resetFailed: {
            id: "settingsModal.resetFailed",
            defaultMessage: "Failed to reset your GPT's memory."
        },
        on: {
            id: "personalizationSettings.on",
            defaultMessage: "On"
        },
        off: {
            id: "personalizationSettings.off",
            defaultMessage: "Off"
        },
        customInstructions: {
            id: "personalizationSettings.customInstructions",
            defaultMessage: "Custom instructions"
        },
        manageMemoriesButton: {
            id: "personalizationSettings.manageMemoriesButton",
            defaultMessage: "Manage memories"
        }
    }),
    dt = ["sharedConversations"],
    xa = ["sharedTextdocs"],
    F = W({
        name: {
            id: "sharedConversationModal.name",
            defaultMessage: "Name"
        },
        dateShared: {
            id: "sharedConversationModal.dateShared",
            defaultMessage: "Date shared"
        },
        type: {
            id: "YiHQp6",
            defaultMessage: "Type"
        },
        chatType: {
            id: "0BR1NF",
            defaultMessage: "Chat"
        },
        canvasType: {
            id: "AalPA+",
            defaultMessage: "Canvas"
        },
        loading: {
            id: "sharedConversationModal.loading",
            defaultMessage: "Loading..."
        },
        somethingWentWrong: {
            id: "sharedConversationModal.somethingWentWrong",
            defaultMessage: "Something went wrong..."
        },
        retry: {
            id: "sharedConversationModal.retry",
            defaultMessage: "Retry"
        },
        noSharedConversations: {
            id: "sharedConversationModal.noSharedConversations",
            defaultMessage: "You have no shared links."
        },
        title: {
            id: "sharedConversationModal.title",
            defaultMessage: "Shared Links"
        },
        goToOriginConversation: {
            id: "sharedConversationModal.goToOriginConversation",
            defaultMessage: "View source chat"
        },
        deleteSharedLink: {
            id: "sharedConversationModal.deleteSharedLink",
            defaultMessage: "Delete shared link"
        },
        deleteSharedLinkFailed: {
            id: "sharedConversationModal.deleteSharedLinkFailed",
            defaultMessage: "Deleting shared link failed"
        },
        deleteAllSharedLinks: {
            id: "sharedConversationModal.deleteSharedAllConversations",
            defaultMessage: "Delete all shared links"
        },
        deleteAllSharedLinksConfirm: {
            id: "sharedConversationModal.deleteSharedAllConversationsConfirm",
            defaultMessage: "Are you sure you want to delete all your shared links?"
        },
        deleteAllSharedLinksFailed: {
            id: "sharedConversationModal.deleteSharedAllConversationsFailed",
            defaultMessage: "Deleting shared links failed"
        }
    });

function Tr() {
    const t = xe(),
        s = b(),
        a = V(),
        {
            mutate: n
        } = Ce({
            mutationFn: () => Promise.allSettled([R.deleteAllSharedConversations(), Pe.safeDelete("/shared_textdocs", {})]),
            onSettled: () => {
                t.invalidateQueries({
                    queryKey: dt
                })
            },
            onError: () => {
                a.danger(s.formatMessage(F.deleteAllSharedLinksFailed))
            }
        });
    return e.jsx(Fs, {
        side: "bottom",
        sideOffset: 4,
        triggerButton: e.jsx("button", {
            className: "text-token-text-tertiary hover:text-token-text-secondary radix-state-open:text-token-text-tertiary dark:radix-state-open:text-gray-400",
            children: e.jsx(Oo, {
                className: "icon-sm"
            })
        }),
        children: e.jsx(re.Item, {
            onClick: () => {
                window.confirm(s.formatMessage(F.deleteAllSharedLinksConfirm)) && n()
            },
            color: "danger",
            children: e.jsx(o, { ...F.deleteAllSharedLinks
            })
        })
    })
}

function Dr() {
    return R.getSharedConversations()
}

function Ir() {
    return ye({
        queryKey: dt,
        queryFn: Dr,
        refetchOnMount: "always"
    })
}

function Or() {
    return ye({
        queryKey: xa,
        queryFn: () => Pe.safeGet("/shared_textdocs", {}),
        refetchOnMount: "always"
    })
}
const Ma = ({
    conversationId: t,
    onClickDelete: s
}) => {
    const a = b();
    return e.jsx(L.Cell, {
        textAlign: "right",
        children: e.jsxs(L.Actions, {
            children: [t && e.jsx(Ee, {
                label: a.formatMessage(F.goToOriginConversation),
                sideOffset: 4,
                side: "top",
                children: e.jsx("a", {
                    href: Bo(t),
                    target: "_blank",
                    rel: "noreferrer",
                    "aria-label": a.formatMessage(F.goToOriginConversation),
                    className: "cursor-pointer text-token-text-tertiary hover:text-token-text-secondary",
                    children: e.jsx(Js, {
                        className: "icon-sm"
                    })
                })
            }), e.jsx(Ee, {
                label: a.formatMessage(F.deleteSharedLink),
                sideOffset: 4,
                side: "top",
                className: "flex h-fit",
                children: e.jsx("button", {
                    onClick: s,
                    "aria-label": a.formatMessage(F.deleteSharedLink),
                    className: "text-token-text-tertiary hover:text-token-text-secondary",
                    children: e.jsx(ea, {
                        className: "icon-sm"
                    })
                })
            })]
        })
    })
};

function Br({
    sharedConversation: t
}) {
    const s = b(),
        a = V(),
        n = xe(),
        {
            mutate: i,
            isPending: r
        } = Ce({
            mutationFn: async ({
                sharedConversationId: c
            }) => R.deleteShareLink({
                share_id: c
            }),
            onSettled: () => {
                n.invalidateQueries({
                    queryKey: dt
                })
            },
            onError: () => {
                a.danger(s.formatMessage(F.deleteSharedLinkFailed))
            }
        }),
        l = t.workspace_id != null ? `/share/e/${t.id}` : `/share/${t.id}`;
    return e.jsxs(L.Row, {
        disabled: r,
        children: [e.jsx(L.Cell, {
            children: e.jsxs("a", {
                href: l,
                target: "_blank",
                rel: "noreferrer",
                className: "inline-flex items-center gap-2 align-top text-blue-500 dark:text-blue-400",
                children: [e.jsx(ia, {
                    className: "icon-sm flex-shrink-0"
                }), t.title]
            })
        }), e.jsx(L.Cell, {
            children: e.jsx(o, { ...F.chatType
            })
        }), e.jsx(L.Cell, {
            children: t.create_time != null ? e.jsx(it, {
                value: t.create_time,
                month: "long",
                year: "numeric",
                day: "numeric"
            }) : null
        }), e.jsx(Ma, {
            conversationId: t.conversation_id,
            onClickDelete: () => i({
                sharedConversationId: t.id
            })
        })]
    })
}

function Fr({
    sharedTextdoc: t
}) {
    const {
        conversation_id: s,
        shared_textdoc_id: a
    } = t, n = b(), i = V(), r = xe(), {
        mutate: l,
        isPending: c
    } = Ce({
        mutationFn: async ({
            sharedTextdocId: u
        }) => Pe.safeDelete("/textdoc/shared/{shared_textdoc_id}", {
            parameters: {
                path: {
                    shared_textdoc_id: u
                }
            }
        }),
        onSettled: () => {
            r.invalidateQueries({
                queryKey: [dt, xa]
            })
        },
        onError: () => {
            i.danger(n.formatMessage(F.deleteSharedLinkFailed))
        }
    });
    return e.jsxs(L.Row, {
        disabled: c,
        children: [e.jsx(L.Cell, {
            children: e.jsxs("a", {
                href: ji(a),
                target: "_blank",
                rel: "noreferrer",
                className: "inline-flex items-center gap-2 align-top text-blue-500 dark:text-blue-400",
                children: [e.jsx(ia, {
                    className: "icon-sm flex-shrink-0"
                }), t.name]
            })
        }), e.jsx(L.Cell, {
            children: e.jsx(o, { ...F.canvasType
            })
        }), e.jsx(L.Cell, {
            children: t.created_at != null ? e.jsx(it, {
                value: t.created_at,
                month: "long",
                year: "numeric",
                day: "numeric"
            }) : null
        }), e.jsx(Ma, {
            conversationId: s,
            onClickDelete: () => l({
                sharedTextdocId: a
            })
        })]
    })
}

function Rr({
    onClose: t
}) {
    const {
        data: s,
        isLoading: a,
        isError: n,
        refetch: i
    } = Ir(), {
        data: r,
        isLoading: l,
        isError: c,
        refetch: u
    } = Or(), h = b();
    let g;
    return a || l ? g = e.jsx("div", {
        className: "pb-8 text-token-text-secondary",
        children: e.jsx(o, { ...F.loading
        })
    }) : c || n ? g = e.jsxs("div", {
        children: [e.jsx("div", {
            className: "mb-4 text-red-500",
            children: e.jsx(o, { ...F.somethingWentWrong
            })
        }), e.jsx("div", {
            children: e.jsx(P, {
                color: "secondary",
                onClick: () => {
                    i(), u()
                },
                children: e.jsx(o, { ...F.retry
                })
            })
        })]
    }) : s ? .total === 0 && r ? .shared_textdocs.length === 0 ? g = e.jsx("div", {
        className: "pb-8 text-token-text-tertiary",
        children: e.jsx(o, { ...F.noSharedConversations
        })
    }) : g = e.jsxs(L.Root, {
        className: "max-h-[28rem]",
        size: "compact",
        children: [e.jsxs(L.Header, {
            children: [e.jsx(L.HeaderCell, {
                children: e.jsx(o, { ...F.name
                })
            }), e.jsx(L.HeaderCell, {
                children: e.jsx(o, { ...F.type
                })
            }), e.jsx(L.HeaderCell, {
                children: e.jsx(o, { ...F.dateShared
                })
            }), e.jsx(L.HeaderCell, {
                textAlign: "right",
                children: e.jsx(Tr, {})
            })]
        }), e.jsxs(L.Body, {
            children: [s ? .items.map(m => e.jsx(Br, {
                sharedConversation: m
            }, m.id)), r ? .shared_textdocs.map(m => e.jsx(Fr, {
                sharedTextdoc: m
            }, m.shared_textdoc_id))]
        })]
    }), e.jsx(O, {
        isOpen: !0,
        onClose: t,
        size: "custom",
        className: "max-w-5xl",
        type: "success",
        title: h.formatMessage(F.title),
        showCloseButton: !0,
        children: g
    })
}
const ba = "https://help.openai.com/en/articles/5722486",
    Wr = "https://help.openai.com/en/articles/8400625-voice-mode-faq#h_3839e62d6a";

function Ur(t) {
    const s = Ws(t),
        {
            data: a
        } = ye({
            queryKey: ["data-usage-for-training", s ? .accountUserId],
            queryFn: () => R.getDataUsageForTraining(),
            enabled: s != null
        });
    return a ? .data_usage_for_training
}

function Gr() {
    const {
        data: t
    } = wt(), s = b(), a = Oe(Qe.isBusinessWorkspace), [n, i] = d.useState(!1), r = Oe(Qe.isTeamPlan), l = Oe(Qe.isEduPlan), {
        data: c
    } = qe(ee.TrainingAllowed), {
        data: u
    } = qe(ee.VoiceTrainingAllowed), {
        data: h
    } = qe(ee.VideoTrainingAllowed), g = At(), m = Ur(t), p = m === "disallowed" ? !1 : !!c;
    return e.jsxs(w, {
        children: [e.jsx(ta, {
            onClick: () => i(!0),
            label: s.formatMessage(f.chatTrainingAllowedToggleLabel),
            stateLabel: p ? s.formatMessage({
                id: "settingsModal.trainingEnabled",
                defaultMessage: "On"
            }) : s.formatMessage({
                id: "settingsModal.trainingDisabled",
                defaultMessage: "Off"
            }),
            testId: "improve-model-open-modal-button"
        }), n && e.jsxs(O, {
            isOpen: !0,
            onClose: () => i(!1),
            title: s.formatMessage({
                id: "settingsModal.trainingToggleModalTitle",
                defaultMessage: "Model improvement"
            }),
            type: "success",
            secondaryButton: e.jsx(P, {
                color: "secondary",
                onClick: () => i(!1),
                "data-testid": "improve-model-done-button",
                children: e.jsx(o, {
                    id: "settingsModal.trainingToggleModalDoneButton",
                    defaultMessage: "Done"
                })
            }),
            children: [e.jsx("div", {
                className: "pb-8",
                children: e.jsx(me, {
                    label: s.formatMessage(f.chatTrainingAllowedToggleLabel),
                    disabled: m === "disallowed",
                    enabled: p,
                    onChange: x => {
                        g.mutate({
                            setting: ee.TrainingAllowed,
                            value: x
                        })
                    },
                    toggleTooltip: a ? e.jsx(o, { ...r ? f.chatTrainingTeamsTooltip : l ? f.chatTrainingEduTooltip : f.chatTrainingEnterpriseTooltip
                    }) : null,
                    description: e.jsx(o, { ...f.trainingAllowedDescription,
                        values: {
                            link: x => e.jsx("a", {
                                href: ba,
                                target: "_blank",
                                className: "underline",
                                rel: "noreferrer",
                                children: x
                            })
                        }
                    }),
                    testId: "improve-model-toggle"
                })
            }), !a && e.jsxs("div", {
                className: "flex flex-col",
                children: [e.jsx("p", {
                    className: "mb-2 text-lg font-semibold leading-7 text-token-text-secondary",
                    children: e.jsx(o, {
                        id: "settingsModal.trainingToggleModalVoiceAndVideoTitle",
                        defaultMessage: "Voice mode"
                    })
                }), e.jsx("div", {
                    className: "pb-2",
                    children: e.jsx(me, {
                        label: s.formatMessage(f.voiceTrainingAllowedLabel),
                        enabled: p ? !!u : !1,
                        disabled: !p,
                        onChange: x => {
                            p && g.mutate({
                                setting: ee.VoiceTrainingAllowed,
                                value: x
                            })
                        }
                    })
                }), e.jsx(me, {
                    label: s.formatMessage(f.videoTrainingAllowedLabel),
                    enabled: p ? !!h : !1,
                    disabled: !p,
                    onChange: x => {
                        p && g.mutate({
                            setting: ee.VideoTrainingAllowed,
                            value: x
                        })
                    },
                    description: e.jsx(o, { ...f.voiceAndVideoTrainingDescription,
                        values: {
                            link: x => e.jsx("a", {
                                href: Wr,
                                target: "_blank",
                                className: "underline",
                                rel: "noreferrer",
                                children: x
                            })
                        }
                    })
                })]
            })]
        })]
    })
}
const Vr = () => {
    const t = b(),
        s = V(),
        a = Fo(),
        {
            pathname: n
        } = Hs(),
        i = Te(),
        {
            closeSettings: r,
            currentTab: l,
            openSettings: c
        } = We(),
        [u, h] = d.useState(!1),
        [g, m] = d.useState(!1),
        [p, x] = d.useState(!1),
        [A, v] = d.useState(!1),
        [C, S] = d.useState(!1),
        [k, E] = d.useState(!1),
        [_, $] = d.useState(!1),
        [B, ne] = d.useState(!1),
        [D, Ae] = d.useState(!1),
        Ca = Vl(),
        de = ur(),
        {
            setupMfa: Ot,
            removeMfa: ya
        } = Mr({
            useNativeProvider: de.use_native_mfa,
            auth0UserExists: de.auth0_user_exists
        }),
        q = de.status,
        ja = de.otherProvidersWithoutMfa && de.otherProvidersWithoutMfa.length > 0,
        {
            session: va
        } = lt(),
        Bt = va ? .user,
        Ft = Bt ? .idp,
        Sa = (Ft ? Tt[Ft] : void 0) ? ? e.jsx(o, {
            id: "confirmEnableMfaForByPassModal.yourAccount",
            defaultMessage: "your current account"
        }),
        {
            data: Rt
        } = wt(),
        H = Ws(Rt),
        ka = H ? .features,
        Wt = Oe(Qe.isBusinessWorkspace),
        je = Ro(),
        wa = hs.useStore(),
        Ea = hs.useDisabledGlobally(),
        {
            connectorConfig: ve
        } = $s(),
        Ut = ve.has(T.CONFLUENCE) && !je,
        Gt = ve.has(T.GDRIVE) && !je,
        Vt = ve.has(T.JIRA) && !je,
        Ht = ve.has(T.NOTION_OPEN_CONNECTOR) && !je,
        zt = (ve.has(T.O365_PERSONAL) || ve.has(T.O365_BUSINESS)) && !je,
        Kt = ve.has(T.SLACK_OPEN_CONNECTOR) && !je,
        Na = Ut || Gt || Vt || Ht || zt || Kt,
        {
            clientApplications: ut
        } = Wo(),
        qt = ut != null && ut.length > 0 || Na,
        Aa = Uo(rn.WorkspaceShareLinks),
        La = tt(Q.CookieManagement),
        {
            data: De
        } = qe(ee.ShowExpandedCodeView),
        Yt = De === void 0,
        [_a, Qt] = d.useState(Yt ? !1 : De),
        Pa = At(),
        $t = sa(),
        Ta = H ? .isTeam(),
        Da = Rt ? .accountItems.some(Y => Y.isPersonalAccount()),
        Ia = Bt ? .email && ka ? .includes(Rs) && (q === G.LOADING || q === G.DISABLED) || q === G.ENABLED,
        gt = je,
        Xt = H && H.hasPaidSubscription() && !H.isWorkspacePlan(),
        [Zt, Jt] = d.useState(!1),
        [es, ts] = d.useState(!1);
    d.useEffect(() => {
        De !== void 0 && Qt(De)
    }, [De]);
    const Oa = d.useCallback(() => {
            h(!1)
        }, []),
        Ba = d.useCallback(() => {
            m(!1)
        }, []),
        Fa = d.useCallback(() => {
            v(!1)
        }, []),
        Ra = d.useCallback(() => {
            h(!0)
        }, []),
        Wa = d.useCallback(() => {
            m(!0)
        }, []),
        Ua = d.useCallback(() => {
            x(!0)
        }, []),
        Ga = d.useCallback(() => {
            v(!0)
        }, []),
        Va = d.useCallback(() => {
            Ae(!0)
        }, []),
        Ha = d.useCallback(async () => {
            Jt(!0)
        }, []),
        za = d.useCallback(() => {
            ts(!0)
        }, []),
        Ka = d.useCallback(() => {
            ne(!0), R.logoutAll().then(() => {
                s.success(t.formatMessage(f.logoutAllSuccess), {
                    testId: "logout-all-success-toaster"
                }), Fe()
            }).catch(Y => {
                ke.addError(new Error("Failed logging out all accounts: ", {
                    cause: Y
                })), s.danger(t.formatMessage(f.logoutAllFailed), {
                    hasCloseButton: !0
                }), ne(!1)
            })
        }, [t, s]),
        mt = xe(),
        qa = () => {
            R.deleteConversations().then(() => {
                kt(mt)
            }), n !== "/" && i("/", {
                replace: !0
            })
        },
        Ya = () => {
            R.archiveConversations().then(() => {
                s.info(t.formatMessage(f.archiveHistorySuccess)), kt(mt)
            }), n !== "/" && i("/", {
                replace: !0
            })
        },
        Qa = de.status !== G.LOADING,
        {
            native_default_factor_id: ss,
            use_native_mfa: $a
        } = de,
        Xa = () => {
            if (de.status !== G.ENABLED) throw new Error("MFA is not enabled");
            if ($a) {
                if (!ss) throw new Error("No factor ID found");
                return R.disableNativeMFA(ss)
            } else return R.disableMfa()
        },
        Za = () => {
            Xa().then(() => {
                mt.invalidateQueries({
                    queryKey: ["mfaInfo"]
                }), i(ds(us.DISABLE_MFA_SUCCESS, "/#settings/Security"))
            }).catch(() => {
                i(ds(us.DISABLE_MFA_TIMEOUT, "/#settings/Security"))
            })
        },
        {
            value: as
        } = Nt("3325813340");
    if (u) return e.jsx(Xr, {
        onClose: Oa
    });
    if (g) return e.jsx(Qr, {
        onClose: Ba,
        onDeleteHistory: qa
    });
    if (p) return e.jsx($r, {
        onClose: () => x(!1),
        onArchiveHistory: Ya
    });
    if (A) return e.jsx(Zr, {
        onClose: Fa
    });
    if (C) return e.jsx(Rr, {
        onClose: () => {
            S(!1)
        }
    });
    if (D) return e.jsx(Kl, {
        mfaInfo: de,
        onCancel: () => {
            Ae(!1)
        },
        onEnableMFA: Ot
    });
    if (Ca) return Qa ? e.jsx(Hl, {
        onClose: () => i("/", {
            replace: !0
        }),
        onConfirm: Za
    }) : null;
    if (k) return e.jsx(Go, {
        onClose: () => {
            E(!1)
        },
        fromSettings: !0
    });
    if (_) return e.jsx(Lr, {
        onClose: () => {
            $(!1)
        }
    });
    if (La) return null;
    if (Zt && H) return e.jsx(Il, {
        isOpen: Zt,
        onClose: () => {
            y.logEventWithStatsig(j.cancelSubscriptionModalDismissed, "chatgpt_cancel_subscription_modal_dismissed"), Jt(!1)
        },
        currentAccount: H
    });
    if (es && H) {
        const Y = H.mustGetSubscriptionBillingCurrency("GlobalSettingsModal");
        return e.jsx(ci, {
            isOpen: es,
            onClose: () => ts(!1),
            accountId: H.id,
            initialPlanType: H.data.subscriptionStatus.planType,
            updatedPlanType: H.data.subscriptionStatus.planType,
            billingDetails: {
                currency: Y
            }
        })
    } else return e.jsx(O, {
        isOpen: !0,
        onClose: r,
        size: "custom",
        className: "h-[100%] md:max-h-[600px] md:min-h-[600px] md:max-w-[680px]",
        type: "success",
        title: t.formatMessage(f.settings),
        showCloseButton: !0,
        noPadding: !0,
        children: e.jsxs(Vo, {
            className: "flex h-[100%] flex-col gap-6 md:flex-row",
            defaultValue: l,
            orientation: a ? "vertical" : void 0,
            onValueChange: Y => {
                c(Y)
            },
            children: [e.jsxs(Ho, {
                className: _e("m-2 md:m-0 md:px-4 md:pl-6 md:pt-4", "flex flex-shrink-0 flex-wrap md:ml-[-8px] md:min-w-[180px]", a ? "max-w-[200px] flex-col gap-2" : "flex-row overflow-x-auto rounded-lg bg-token-main-surface-secondary"),
                children: [e.jsx(ue, {
                    value: I.General,
                    icon: e.jsx(zo, {
                        className: "icon-sm"
                    }),
                    label: e.jsx(o, { ...f.generalTab
                    })
                }), as && e.jsx(Tl, {}), gt && e.jsx(ue, {
                    value: I.DesktopApp,
                    icon: e.jsx(Ko, {
                        className: "icon-sm"
                    }),
                    label: e.jsx(o, { ...f.desktopAppTab
                    }),
                    testId: "desktop-app-tab"
                }), $t && e.jsx(ue, {
                    value: I.Personalization,
                    icon: e.jsx(wl, {
                        className: "icon-sm"
                    }),
                    label: e.jsx(o, { ...f.personalizationTab
                    }),
                    testId: "personalization-tab"
                }), e.jsx(ps.Trigger, {}), e.jsx(ue, {
                    value: I.DataControls,
                    icon: e.jsx(cn, {
                        className: "icon-sm"
                    }),
                    label: e.jsx(o, { ...f.dataControlsTab
                    }),
                    testId: "data-controls-tab"
                }), H && e.jsx(ue, {
                    value: I.BuilderProfile,
                    icon: e.jsx(mi, {
                        className: "icon-sm"
                    }),
                    label: e.jsx(wr, {})
                }), qt && e.jsx(ue, {
                    value: I.ConnectorSettings,
                    icon: e.jsx(qo, {
                        className: "icon-sm"
                    }),
                    label: e.jsx(o, { ...f.connectorsTab
                    })
                }), e.jsx(ue, {
                    value: I.Security,
                    icon: e.jsx(fi, {
                        className: "icon-sm"
                    }),
                    label: e.jsx(o, { ...f.securityTab
                    }),
                    testId: "security-tab"
                }), Xt && e.jsx(ue, {
                    value: I.Subscription,
                    icon: e.jsx(kl, {
                        className: "icon-sm"
                    }),
                    label: e.jsx(o, { ...f.subscriptionTab
                    }),
                    testId: "subscription-tab"
                })]
            }), e.jsxs(oe, {
                value: I.General,
                children: [!gt && e.jsx(w, {
                    children: e.jsx(ga, {})
                }), e.jsx(w, {
                    children: e.jsx(me, {
                        label: t.formatMessage(f.alwaysExpandCodeOutput),
                        enabled: _a,
                        isLoading: Yt,
                        onChange: Y => {
                            Pa.mutate({
                                setting: ee.ShowExpandedCodeView,
                                value: Y
                            }), Qt(Y)
                        }
                    })
                }), e.jsx(w, {
                    children: e.jsx(me, {
                        label: t.formatMessage(f.showFollowupsLabel),
                        enabled: !Ea,
                        onChange: Y => {
                            wa.setDisabledGlobally(!Y), y.logEventWithStatsig(j.messageFollowupSetting, "chatgpt_message_followup_setting", {
                                action: Y ? "enable_globally" : "disable_globally"
                            })
                        }
                    })
                }), e.jsx(w, {
                    children: e.jsx(qr, {})
                }), e.jsx(w, {
                    children: e.jsx(Z, {
                        label: t.formatMessage(f.archivedConversations),
                        buttonLabel: t.formatMessage(f.manageButton),
                        onClick: () => {
                            $(!0)
                        },
                        testId: "manage-archived-conversations-button"
                    })
                }), e.jsx(w, {
                    children: e.jsx(Z, {
                        label: t.formatMessage(f.archiveChatsLabel),
                        buttonLabel: t.formatMessage(f.archiveChatsButton),
                        onClick: Ua,
                        testId: "archive-all-chats-button"
                    })
                }), e.jsx(w, {
                    children: e.jsx(Z, {
                        color: "danger",
                        label: t.formatMessage(f.deleteChatLabel),
                        buttonLabel: t.formatMessage(f.deleteChatButton),
                        onClick: Wa,
                        testId: "delete-all-chats-button"
                    })
                }), e.jsx(w, {
                    children: e.jsx(Z, {
                        label: t.formatMessage(f.logOutLabel),
                        buttonLabel: t.formatMessage(f.logOutButton),
                        onClick: () => Fe(),
                        testId: "logout-button"
                    })
                })]
            }), as && e.jsx(oe, {
                value: I.Notifications,
                children: e.jsx(Al, {})
            }), gt && e.jsx(oe, {
                value: I.DesktopApp,
                children: e.jsx(er, {})
            }), !Wt && e.jsx(oe, {
                value: I.BetaFeatures,
                children: e.jsx(Hr, {})
            }), e.jsxs(oe, {
                value: I.DataControls,
                children: [e.jsx(Gr, {}), Aa && e.jsx(w, {
                    children: e.jsx(Z, {
                        label: t.formatMessage(f.sharedConversations),
                        buttonLabel: t.formatMessage(f.manageButton),
                        onClick: () => {
                            S(!0)
                        },
                        testId: "manage-shared-conversations-button"
                    })
                }), Ta && Da && e.jsx(w, {
                    children: e.jsx(Z, {
                        label: t.formatMessage(f.mergePersonalData),
                        buttonLabel: t.formatMessage(f.mergeButton),
                        onClick: () => {
                            E(!0)
                        }
                    })
                }), !Wt && e.jsxs(e.Fragment, {
                    children: [e.jsx(w, {
                        children: e.jsx(Z, {
                            label: t.formatMessage(f.exportData),
                            buttonLabel: t.formatMessage(f.exportButton),
                            onClick: Ra,
                            testId: "export-data-button"
                        })
                    }), e.jsx(w, {
                        children: e.jsx(Z, {
                            label: t.formatMessage(f.deleteAccount),
                            buttonLabel: t.formatMessage(f.deleteAccountButton),
                            color: "danger",
                            onClick: Ga,
                            testId: "delete-account-button"
                        })
                    })]
                })]
            }), $t && e.jsx(oe, {
                value: I.Personalization,
                children: e.jsx(Pr, {})
            }), e.jsx(oe, {
                value: I.BuilderProfile,
                children: e.jsx(jr, {})
            }), qt && e.jsx(oe, {
                value: I.ConnectorSettings,
                children: e.jsx(yl, {
                    clientApplications: ut,
                    isConfluenceEnabled: Ut,
                    isGdriveEnabled: Gt,
                    isJiraEnabled: Vt,
                    isNotionOpenConnectorEnabled: Ht,
                    isO365Enabled: zt,
                    isSlackOpenEnabled: Kt
                })
            }), e.jsx(ps.Content, {}), e.jsxs(oe, {
                value: I.Security,
                children: [Ia && e.jsx(w, {
                    children: e.jsx(Z, {
                        label: e.jsxs(e.Fragment, {
                            children: [e.jsx(o, {
                                id: "settingsModal.toggleMfa",
                                defaultMessage: "Multi-factor authentication"
                            }), q === G.ENABLED && e.jsx("span", {
                                className: "mx-1.5 rounded bg-green-50 px-1 py-0.5 text-xs font-semibold text-green-700",
                                children: e.jsx(o, {
                                    id: "settingsModal.mfaEnabled",
                                    defaultMessage: "Enabled"
                                })
                            })]
                        }),
                        disabled: q === G.LOADING,
                        buttonLabel: e.jsxs(e.Fragment, {
                            children: [q === G.LOADING && e.jsx(o, {
                                id: "settingsModal.loadingMfa",
                                defaultMessage: "Loading..."
                            }), q === G.ENABLED && e.jsx(o, {
                                id: "settingsModal.disable",
                                defaultMessage: "Disable"
                            }), q === G.DISABLED && e.jsx(o, {
                                id: "settingsModal.enable",
                                defaultMessage: "Enable"
                            })]
                        }),
                        onClick: () => {
                            q === G.ENABLED ? ya() : q === G.DISABLED && ja ? Va() : q === G.DISABLED && Ot()
                        },
                        description: e.jsxs(e.Fragment, {
                            children: [q === G.DISABLED && e.jsx(o, {
                                id: "settingsModal.toggleMfaDescriptionDisabled",
                                defaultMessage: "Require an extra security challenge when logging in. If you are unable to pass this challenge, you will have the option to recover your account via email."
                            }), q === G.ENABLED && e.jsxs(e.Fragment, {
                                children: [e.jsx(o, {
                                    id: "settingsModal.toggleMfaDescriptionEnabled",
                                    defaultMessage: "You'll only be able to log in using {currentIdp} while this is on.",
                                    values: {
                                        currentIdp: Sa
                                    }
                                }), "", e.jsx("a", {
                                    className: "underline",
                                    target: "_blank",
                                    rel: "noreferrer",
                                    href: Yo,
                                    children: e.jsx(o, {
                                        id: "settingsModal.toggleMfaDescriptionLearnMore",
                                        defaultMessage: "Learn more"
                                    })
                                }), "."]
                            })]
                        })
                    })
                }), e.jsx(w, {
                    children: e.jsx(Z, {
                        label: e.jsx(o, {
                            id: "settingsModal.logoutAllLabel",
                            defaultMessage: "Log out of all devices"
                        }),
                        buttonLabel: e.jsx("div", {
                            style: {
                                whiteSpace: "nowrap"
                            },
                            children: e.jsx(o, {
                                id: "settingsModal.logoutAllButton",
                                defaultMessage: "Log out all"
                            })
                        }),
                        description: e.jsx(o, {
                            id: "settingsModal.logoutAllDescription",
                            defaultMessage: "Log out of all active sessions across all devices, including your current session. It may take up to 30 minutes for other devices to be logged out."
                        }),
                        onClick: () => {
                            y.logLogOutButtonClicked({
                                location: "settings_modal_log_out_all"
                            }), Ka()
                        },
                        disabled: B,
                        testId: "logout-all-button"
                    })
                })]
            }), Xt && e.jsx(oe, {
                value: I.Subscription,
                children: e.jsx(Gl, {
                    currentAccount: H,
                    onCancelSubscriptionClick: Ha,
                    onRenewSubscriptionClick: za
                })
            })]
        })
    })
};

function Hr() {
    return e.jsx(e.Fragment, {
        children: e.jsx(w, {
            children: e.jsx("p", {
                children: e.jsx(o, { ...f.betaIntro
                })
            })
        })
    })
}
const zr = () => {
        const t = fe.getCookie(he.PreferredLocale);
        return t != null ? Us(t) : null
    },
    Kr = 365 * 24 * 60 * 60;

function Ts(t) {
    t == null ? fe.deleteCookie(he.PreferredLocale) : fe.setCookie(he.PreferredLocale, t, {
        maxAge: Kr
    }), window.location.reload()
}

function qr() {
    const t = dn().locale,
        s = fn,
        a = rs(() => zr()) ? ? null,
        n = rs(() => navigator.language),
        i = n == null ? null : Us(n),
        r = [...new Set([a, i])].filter(c => c != null),
        l = s.filter(c => !r.includes(c));
    return e.jsxs("div", {
        className: "flex items-center justify-between",
        children: [e.jsx("div", {
            children: e.jsx(o, { ...f.locale
            })
        }), e.jsxs(ie.Root, {
            value: a ? ? "auto",
            onValueChange: c => {
                y.logEvent(j.localeUpdatedByUser, {
                    from_locale: t,
                    to_locale: c,
                    raw_browser_locale: n ? ? "",
                    suggested_locale: i ? ? ""
                }), Be.logEvent("chatgpt_locale_updated_by_user", c, {
                    from_locale: t,
                    to_locale: c,
                    raw_browser_locale: n ? ? "",
                    suggested_locale: i ? ? ""
                }), Ts(c === "auto" ? null : c)
            },
            children: [e.jsxs(ie.Trigger, {
                children: [e.jsx(ie.Value, {}), e.jsx(ie.Icon, {})]
            }), e.jsx(ie.Portal, {
                children: e.jsxs(ie.Content, {
                    side: void 0,
                    sideOffset: void 0,
                    position: "item-aligned",
                    children: [e.jsx(ie.Item, {
                        value: "auto",
                        children: e.jsx(o, { ...f.localeAuto
                        })
                    }), r.map(c => e.jsx(ie.Item, {
                        value: c,
                        children: cs[c] ? ? c
                    }, c)), e.jsx(ie.Separator, {}), l.map(c => e.jsx(ie.Item, {
                        value: c,
                        children: cs[c] ? ? c
                    }, c))]
                })
            })]
        })]
    })
}

function Yr() {
    const t = b(),
        s = un(),
        {
            closeSettings: a
        } = We();
    return d.useEffect(() => {
        Be.logEvent("chatgpt_unauthenticated_settings_modal_shown"), y.logEvent(j.unauthSettingsModal)
    }, []), e.jsx(O, {
        isOpen: !0,
        onClose: a,
        type: "success",
        showCloseButton: !0,
        title: t.formatMessage(f.settings),
        children: e.jsx(w, {
            children: e.jsx(me, {
                label: t.formatMessage({
                    id: "settingsModal.unauthChatTrainingToggleLabel",
                    defaultMessage: "Improve the model for everyone"
                }),
                enabled: s,
                onChange: n => {
                    gn.setIsNoAuthChatTrainingEnabled(n), y.logEvent(j.noAuthChatTrainingToggled, {
                        isEnabled: n
                    })
                },
                description: e.jsx(o, {
                    id: "rtxsI1",
                    defaultMessage: "Allow your content to be used to train our models, which makes ChatGPT better for you and everyone who uses it. We take steps to protect your privacy. <link>Learn more</link>.",
                    values: {
                        link: n => e.jsx("a", {
                            href: ba,
                            target: "_blank",
                            className: "underline",
                            rel: "noreferrer",
                            children: n
                        })
                    }
                })
            })
        })
    })
}

function Qr({
    onClose: t,
    onDeleteHistory: s
}) {
    const a = b(),
        n = sa();
    return e.jsx(O, {
        isOpen: !0,
        onClose: t,
        type: "success",
        title: a.formatMessage(f.deleteHistoryModalTitle),
        description: n && e.jsx(o, {
            id: "settingsModal.deleteHistoryModalMemoryDisclaimer",
            defaultMessage: "To clear any memories from your chats, visit your <link>settings</link>.",
            values: {
                link: i => e.jsx(Ie, {
                    onClick: () => t(),
                    to: "#settings/Personalization",
                    className: "underline",
                    children: i
                })
            }
        }),
        primaryButton: e.jsx(ae.Button, {
            title: a.formatMessage(f.deleteHistoryModalConfirm),
            color: "danger",
            onClick: () => {
                s(), t()
            },
            "data-testid": "confirm-delete-all-chats-button"
        }),
        secondaryButton: e.jsx(ae.Button, {
            title: a.formatMessage(f.deleteHistoryModalCancel),
            color: "secondary",
            onClick: t
        })
    })
}

function $r({
    onClose: t,
    onArchiveHistory: s
}) {
    const a = b();
    return e.jsx(O, {
        isOpen: !0,
        onClose: t,
        type: "success",
        title: a.formatMessage(f.archiveHistoryModalTitle),
        primaryButton: e.jsx(ae.Button, {
            title: a.formatMessage(f.archiveHistoryModalConfirm),
            color: "primary",
            onClick: () => {
                s(), t()
            }
        }),
        secondaryButton: e.jsx(ae.Button, {
            title: a.formatMessage(f.archiveHistoryModalCancel),
            color: "secondary",
            onClick: t
        })
    })
}

function Xr({
    onClose: t
}) {
    const s = b(),
        a = V(),
        n = d.useCallback(() => {
            try {
                R.submitDataExport().then(() => {
                    a.success(s.formatMessage(f.dataExportRequested), {
                        testId: "data-export-success-toaster"
                    }), t()
                })
            } catch {
                a.warning(s.formatMessage(f.dataExportFailed), {
                    hasCloseButton: !0
                })
            }
        }, [s, a, t]);
    return e.jsx(O, {
        isOpen: !0,
        onClose: t,
        type: "success",
        title: s.formatMessage(f.dataExportModalTitle),
        primaryButton: e.jsx(ae.Button, {
            title: s.formatMessage(f.dataExportModalConfirm),
            color: "primary",
            onClick: n,
            "data-testid": "confirm-data-export-button"
        }),
        secondaryButton: e.jsx(ae.Button, {
            title: s.formatMessage(f.dataExportModalCancel),
            color: "secondary",
            onClick: t
        }),
        children: e.jsxs("div", {
            className: "text-sm",
            children: [e.jsxs("ul", {
                className: "my-3 flex list-disc flex-col gap-1 pl-3",
                children: [e.jsx("li", {
                    children: e.jsx(o, { ...f.dataExportModalDescription1
                    })
                }), e.jsx("li", {
                    children: e.jsx(o, { ...f.dataExportModalDescription2
                    })
                }), e.jsx("li", {
                    children: e.jsx(o, { ...f.dataExportModalDescription3
                    })
                }), e.jsx("li", {
                    children: e.jsx(o, { ...f.dataExportModalDescription4
                    })
                })]
            }), e.jsx("div", {
                children: e.jsx(o, { ...f.dataExportModalDescription5
                })
            })]
        })
    })
}

function Zr({
    onClose: t
}) {
    const s = b(),
        a = V(),
        {
            session: n
        } = lt(),
        i = rt(),
        r = i ? .email,
        l = i ? .phone_number,
        c = r || l || void 0,
        u = l ? f.typePhoneNumberLabel : f.typeEmailLabel,
        [h, g] = d.useState(""),
        [m, p] = d.useState(""),
        x = d.useCallback(() => {
            const _ = n ? .user ? .iat;
            return _ === void 0 || Date.now() / 1e3 - _ < 600
        }, [n]),
        A = d.useCallback(() => {
            try {
                x() ? R.deactivateAccount().then(() => {
                    Fe()
                }) : a.warning(s.formatMessage(f.deleteAccountSessionTooOld), {
                    hasCloseButton: !0
                })
            } catch {
                a.warning(s.formatMessage(f.deleteAccountFailed), {
                    hasCloseButton: !0
                })
            }
        }, [s, a, x]),
        v = d.useCallback(() => {
            Fe()
        }, []),
        C = m === "DELETE" && (c === void 0 || h.toLowerCase() === c.toLowerCase()),
        [S] = d.useState(() => x()),
        k = Qo();
    return e.jsx(O, {
        isOpen: !0,
        onClose: t,
        type: "success",
        title: s.formatMessage(f.deleteAccountTitle),
        showCloseButton: !0,
        children: e.jsxs("div", {
            className: "text-sm",
            children: [e.jsxs("ul", {
                className: "mb-6 mt-4 flex list-disc flex-col gap-1 pl-3",
                children: [e.jsx("li", {
                    children: e.jsx(o, { ...f.deleteAccountWarning
                    })
                }), e.jsx("li", {
                    children: e.jsx(o, { ...f.apiAccessDeletionWarning
                    })
                }), e.jsx("li", {
                    children: e.jsx(o, { ...f.reuseEmailPhoneWarning
                    })
                }), e.jsx("li", {
                    children: e.jsx(o, { ...f.dataRemovalWarning
                    })
                }), k ? .purchase_origin_platform === at.MOBILE_IOS && e.jsx("li", {
                    children: e.jsx(o, { ...f.iapSubscriptionWarning
                    })
                }), k ? .purchase_origin_platform === at.MOBILE_ANDROID && e.jsx("li", {
                    children: e.jsx(o, { ...f.playStoreSubscriptionWarning
                    })
                }), e.jsx("li", {
                    children: e.jsx(o, { ...f.deleteHelpCenter,
                        values: {
                            article: E => e.jsx("a", {
                                href: "https://help.openai.com/en/articles/6378407-how-to-delete-your-account",
                                target: "_blank",
                                className: "underline",
                                rel: "noopener noreferrer",
                                children: E
                            })
                        }
                    })
                })]
            }), S ? e.jsxs(e.Fragment, {
                children: [c ? e.jsxs("div", {
                    className: "mb-4",
                    children: [e.jsx(Ds, {
                        htmlFor: "email",
                        children: e.jsx(o, { ...u
                        })
                    }), e.jsx(Je, {
                        ariaLabel: !1,
                        value: h,
                        placeholder: c,
                        name: "email",
                        onChange: E => {
                            g(E.target.value)
                        }
                    })]
                }) : null, e.jsxs("div", {
                    className: "mb-4",
                    children: [e.jsx(Ds, {
                        htmlFor: "delete",
                        children: e.jsx(o, { ...f.typeDeleteInputLabel
                        })
                    }), e.jsx(Je, {
                        ariaLabel: !1,
                        value: m,
                        onChange: E => {
                            p(E.target.value)
                        },
                        name: "delete",
                        className: "mb-4"
                    })]
                }), e.jsx(P, {
                    color: C ? "danger" : "disabled",
                    onClick: A,
                    disabled: !C,
                    fullWidth: !0,
                    icon: C ? mn : $o,
                    children: C ? e.jsx(o, { ...f.deleteAccountButtonLabel
                    }) : e.jsx(o, { ...f.lockedButtonLabel
                    })
                })]
            }) : e.jsxs(e.Fragment, {
                children: [e.jsx("p", {
                    className: "pb-4 text-xs text-token-text-tertiary",
                    children: e.jsx(o, { ...f.recentLoginMessage
                    })
                }), e.jsx(P, {
                    color: "primary",
                    onClick: v,
                    fullWidth: !0,
                    children: e.jsx(o, { ...f.refreshLoginButtonLabel
                    })
                })]
            })]
        })
    })
}
const Ds = pe.label `block text-sm font-semibold mb-1`,
    f = W({
        settings: {
            id: "settingsModal.settings",
            defaultMessage: "Settings"
        },
        locale: {
            id: "settingsModal.locale_alpha",
            defaultMessage: "Language"
        },
        localeAuto: {
            id: "settingsModal.localeAuto",
            defaultMessage: "Auto-detect"
        },
        archivedConversations: {
            id: "settingsModal.archivedConversations",
            defaultMessage: "Archived chats"
        },
        sharedConversations: {
            id: "settingsModal.sharedConversations",
            defaultMessage: "Shared links"
        },
        manageButton: {
            id: "settingsModal.manageButton",
            defaultMessage: "Manage"
        },
        mergePersonalData: {
            id: "settingsModal.mergePersonalData",
            defaultMessage: "Merge data from your personal workspace"
        },
        mergeButton: {
            id: "settingsModal.mergeButton",
            defaultMessage: "Merge"
        },
        cookieManagement: {
            id: "settingsModal.cookieManagement",
            defaultMessage: "Cookie preferences"
        },
        cookieManagementButton: {
            id: "settingsModal.cookieManagementButton",
            defaultMessage: "Manage"
        },
        exportData: {
            id: "settingsModal.exportData",
            defaultMessage: "Export data"
        },
        exportButton: {
            id: "settingsModal.exportButton",
            defaultMessage: "Export"
        },
        deleteAccount: {
            id: "settingsModal.deleteAccount",
            defaultMessage: "Delete account"
        },
        deleteAccountButton: {
            id: "settingsModal.deleteButton",
            defaultMessage: "Delete"
        },
        alwaysExpandCodeOutput: {
            id: "settingsModal.alwaysShowDataAnalystOutput",
            defaultMessage: "Always show code when using data analyst"
        },
        trainingAllowedDescription: {
            id: "Qalmv5",
            defaultMessage: "Allow your content to be used to train our models, which makes ChatGPT better for you and everyone who uses it. We take steps to protect your privacy. <link>Learn more</link>"
        },
        deleteHistoryModalTitle: {
            id: "settingsModal.deleteHistoryModalTitle",
            defaultMessage: "Clear your chat history - are you sure?"
        },
        deleteHistoryModalConfirm: {
            id: "settingsModal.deleteHistoryModalConfirm",
            defaultMessage: "Confirm deletion"
        },
        deleteHistoryModalCancel: {
            id: "settingsModal.deleteHistoryModalCancel",
            defaultMessage: "Cancel"
        },
        archiveHistoryModalTitle: {
            id: "settingsModal.archiveHistoryModalTitle",
            defaultMessage: "Archive your chat history - are you sure?"
        },
        archiveHistoryModalConfirm: {
            id: "settingsModal.archiveHistoryModalConfirm",
            defaultMessage: "Confirm archive"
        },
        archiveHistoryModalCancel: {
            id: "settingsModal.archiveHistoryModalCancel",
            defaultMessage: "Cancel"
        },
        archiveHistorySuccess: {
            id: "settingsModal.archiveHistorySuccess",
            defaultMessage: "Successfully archived chats. You can view your archived chats in Settings."
        },
        dataExportRequested: {
            id: "settingsModal.dataExportRequested",
            defaultMessage: "Successfully exported data. You should receive an email shortly with your data."
        },
        dataExportFailed: {
            id: "settingsModal.dataExportFailed",
            defaultMessage: "We were unable to process your export at this time. Please try again later."
        },
        dataExportModalTitle: {
            id: "settingsModal.dataExportModalTitle",
            defaultMessage: "Request data export - are you sure?"
        },
        dataExportModalConfirm: {
            id: "settingsModal.dataExportModalConfirm",
            defaultMessage: "Confirm export"
        },
        dataExportModalCancel: {
            id: "settingsModal.dataExportModalCancel",
            defaultMessage: "Cancel"
        },
        dataExportModalDescription1: {
            id: "settingsModal.dataExportModalDescription1",
            defaultMessage: "Your account details and chats will be included in the export."
        },
        dataExportModalDescription2: {
            id: "settingsModal.dataExportModalDescription2",
            defaultMessage: "The data will be sent to your registered email in a downloadable file."
        },
        dataExportModalDescription3: {
            id: "settingsModal.dataExportModalDescription3",
            defaultMessage: "The download link will expire 24 hours after you receive it."
        },
        dataExportModalDescription4: {
            id: "settingsModal.dataExportModalDescription4",
            defaultMessage: "Processing may take some time. You'll be notified when it's ready."
        },
        dataExportModalDescription5: {
            id: "settingsModal.dataExportModalDescription5",
            defaultMessage: 'To proceed, click "Confirm export" below.'
        },
        deleteAccountSessionTooOld: {
            id: "settingsModal.deleteAccountSessionTooOld",
            defaultMessage: "Your login session is too old. Please log in again before deleting your account."
        },
        deleteAccountFailed: {
            id: "settingsModal.deleteAccountFailed",
            defaultMessage: "Failed to delete account. Please try again later."
        },
        deleteAccountTitle: {
            id: "settingsModal.deleteAccountTitle",
            defaultMessage: "Delete account - are you sure?"
        },
        deleteAccountWarning: {
            id: "settingsModal.deleteAccountWarning",
            defaultMessage: "Deleting your account is permanent and cannot be undone."
        },
        reuseEmailPhoneWarning: {
            id: "settingsModal.reuseEmailPhoneWarning-2",
            defaultMessage: "You cannot create a new account using the same email address."
        },
        dataRemovalWarning: {
            id: "settingsModal.dataRemovalWarning-2",
            defaultMessage: "Your data will be deleted within 30 days, except we may retain a limited set of data for longer where required or permitted by law."
        },
        apiAccessDeletionWarning: {
            id: "settingsModal.apiAccessDeletionWarning-2",
            defaultMessage: "Deletion will prevent you from accessing OpenAI services, including ChatGPT, API, and DALLE."
        },
        deleteHelpCenter: {
            id: "settingsModal.deleteHelpCenter",
            defaultMessage: "Read our <article>help center article</article> for more information."
        },
        iapSubscriptionWarning: {
            id: "settingsModal.iapSubscriptionWarning",
            defaultMessage: "You will need to cancel your in-app purchase subscription in the Apple App Store. We cannot cancel your subscription for you."
        },
        playStoreSubscriptionWarning: {
            id: "settingsModal.playStoreSubscriptionWarning",
            defaultMessage: "You will need to cancel your in-app purchase subscription in the Google Play Store. We cannot cancel your subscription for you."
        },
        typeEmailLabel: {
            id: "settingsModal.typeEmailLabel",
            defaultMessage: "Please type your account email."
        },
        typePhoneNumberLabel: {
            id: "settingsModal.typePhoneNumberLabel",
            defaultMessage: "Please type your account phone number."
        },
        typeDeleteInputLabel: {
            id: "settingsModal.typeDeleteInputLabel",
            defaultMessage: 'To proceed, type "DELETE" in the input field below.'
        },
        lockedButtonLabel: {
            id: "settingsModal.lockedButtonLabel",
            defaultMessage: "Locked"
        },
        deleteAccountButtonLabel: {
            id: "settingsModal.deleteAccountButtonLabel",
            defaultMessage: "Permanently delete my account"
        },
        recentLoginMessage: {
            id: "settingsModal.recentLoginMessage",
            defaultMessage: "You may only delete your account if you have logged in within the last 10 minutes. Please log in again, then return here to continue."
        },
        refreshLoginButtonLabel: {
            id: "settingsModal.refreshLoginButtonLabel",
            defaultMessage: "Refresh login"
        },
        chatTrainingAllowedToggleLabel: {
            id: "settingsModal.trainingAllowedToggleLabel",
            defaultMessage: "Improve the model for everyone"
        },
        chatTrainingEnterpriseTooltip: {
            id: "settingsModal.chatTrainingEnterpriseTooltip",
            defaultMessage: "ChatGPT Enterprise automatically disables training."
        },
        chatTrainingEduTooltip: {
            id: "settingsModal.chatTrainingEduTooltip",
            defaultMessage: "ChatGPT Edu automatically disables training."
        },
        chatTrainingTeamsTooltip: {
            id: "settingsModal.chatTrainingTeamsTooltip",
            defaultMessage: "ChatGPT Team automatically disables training."
        },
        dataControlsTab: {
            id: "settingsModal.dataControls",
            defaultMessage: "Data controls"
        },
        cookiesTab: {
            id: "settingsModal.cookies",
            defaultMessage: "Cookie Preferences"
        },
        personalizationTab: {
            id: "settingsModal.personalization",
            defaultMessage: "Personalization"
        },
        betaIntro: {
            id: "settingsModal.betaIntro",
            defaultMessage: "As a Plus user, enjoy early access to experimental new features, which may change during development."
        },
        betaSettingsUpdateFailed: {
            id: "settingsModal.betaSettingsUpdateFailed",
            defaultMessage: "Failed to update your beta setting"
        },
        generalTab: {
            id: "settingsModal.generalTab",
            defaultMessage: "General"
        },
        desktopAppTab: {
            id: "settingsModal.desktopAppTab",
            defaultMessage: "App"
        },
        betaTab: {
            id: "settingsModal.betaTab",
            defaultMessage: "Beta features"
        },
        connectorsTab: {
            id: "settingsModal.connectorsTab",
            defaultMessage: "Connected apps"
        },
        securityTab: {
            id: "settingsModal.securityTab",
            defaultMessage: "Security"
        },
        subscriptionTab: {
            id: "settingsModal.subscriptionTab",
            defaultMessage: "Subscription"
        },
        logoutAllSuccess: {
            id: "settingsModal.logoutAllSuccess",
            defaultMessage: "Successfully logged out of all devices."
        },
        logoutAllFailed: {
            id: "settingsModal.logoutAllFailed",
            defaultMessage: "We were unable to process your request at this time. Please try again later."
        },
        deleteChatLabel: {
            id: "settingsModal.deleteChatLabel",
            defaultMessage: "Delete all chats"
        },
        deleteChatButton: {
            id: "settingsModal.deleteChatButton",
            defaultMessage: "Delete all"
        },
        logOutLabel: {
            id: "settingsModal.logOutLabel",
            defaultMessage: "Log out on this device"
        },
        logOutButton: {
            id: "settingsModal.logoutButton",
            defaultMessage: "Log out"
        },
        showFollowupsLabel: {
            id: "settingsModal.showFollowupsLabel",
            defaultMessage: "Show follow up suggestions in chats"
        },
        archiveChatsLabel: {
            id: "settingsModal.archiveChatsLabel",
            defaultMessage: "Archive all chats"
        },
        archiveChatsButton: {
            id: "settingsModal.archiveChatsButton",
            defaultMessage: "Archive all"
        },
        chatHistoryDescription: {
            id: "settingsModal.chatHistoryDescription",
            defaultMessage: "Save new chats on this browser to your history and allow them to be used to improve our models. Unsaved chats will be deleted from our systems within 30 days. This setting does not sync across browsers or devices. <link>Learn more</link>"
        },
        voiceTrainingAllowedLabel: {
            id: "settingsModal.voiceTrainingAllowedLabel",
            defaultMessage: "Include your audio recordings"
        },
        videoTrainingAllowedLabel: {
            id: "settingsModal.videoTrainingAllowedLabel",
            defaultMessage: "Include your video recordings"
        },
        voiceAndVideoTrainingDescription: {
            id: "settingsModal.voiceAndVideoTrainingDescription",
            defaultMessage: 'Include your audio and video recordings from Voice Mode to train our models. Transcripts and other files are covered by "Improve the model for everyone." <link>Learn more</link>'
        },
        accountErrorWarning: {
            id: "SettingsModalImpl.accountErrorWarning",
            defaultMessage: "The account management page encountered an error. Please try again. If the problem continues, please visit help.openai.com."
        }
    });

function Jr() {
    const {
        isOpen: t
    } = We(), {
        isUnauthenticated: s
    } = ot();
    return t ? s ? e.jsx(Yr, {}) : e.jsx(Vr, {}) : null
}
const ec = Gs(() => Vs(() =>
        import ("./ob8dn8mbjes1k351.js"), __vite__mapDeps([0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12])).then(t => t.FannyPackModalContainer)),
    tc = Gs(() => Vs(() =>
        import ("./n636tcasmc6x02wp.js"), __vite__mapDeps([13, 1, 2, 3, 14, 6, 7, 15])));

function sc() {
    const t = Re(s => s.sharingModalThreadId);
    return t ? e.jsx(tc, {
        serverThreadId: t
    }) : null
}

function kc() {
    const t = Re(g => g.purchaseWorkspaceData),
        s = Re(g => g.leaveWorkspaceData),
        a = t != null,
        n = tt(Q.UserContext),
        i = tt(Q.GlobalMemoryOnboarding),
        r = ce();
    let {
        isOpen: l,
        isTeamAccountIntent: c
    } = gl();
    const {
        isFannyPackEnabled: u
    } = Xo(), h = Zo();
    return e.jsxs(e.Fragment, {
        children: [e.jsx(Jr, {}), e.jsx(el, {}), !1, e.jsx(tl, {}), l && r && e.jsx(di, {
            currentAccount: r,
            defaultTab: c ? "business" : void 0
        }), e.jsx(Jo, {}), e.jsx(sl, {}), a && e.jsx(cl, {
            isOpen: a,
            onClose: () => K.setPurchaseWorkspaceData(null),
            ...t
        }), s && e.jsx(Si, {
            workspace: s
        }), n && e.jsx(Mi, {
            isModalOpen: n
        }), i && e.jsx(ei, {
            onClose: () => K.closeModal(Q.GlobalMemoryOnboarding)
        }), u && e.jsx(ec, {}), e.jsx(sc, {}), e.jsx(nl, {}), !1, null, h && e.jsx(ti, {})]
    })
}
export {
    kc as GlobalModalsComponent
};
//# sourceMappingURL=kwedh7njyzfektql.js.map